(function(){"use strict";var e={8715:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var o=n(9963),a=n(6252);function i(e,t,n,o,i,r){var l=(0,a.up)("ChooseNet"),s=(0,a.up)("Interface");return(0,a.wg)(),(0,a.iD)(a.HY,null,["chooseNet"===i.page?((0,a.wg)(),(0,a.j4)(l,{key:0,onChangePage:t[0]||(t[0]=function(e){return r.loadNetwork(e)}),onLoadLocalNet:t[1]||(t[1]=function(e){return r.loadLocalNet(e)})})):(0,a.kq)("",!0),"interface"===i.page?((0,a.wg)(),(0,a.j4)(s,{key:1,onChangePage:t[2]||(t[2]=function(e){return i.page="chooseNet"}),network:i.selectedNetwork,localNet:i.localNet},null,8,["network","localNet"])):(0,a.kq)("",!0)],64)}n(8309);var r={class:"flex flex-column h-full"},l={class:"grid flex flex-grow-1 h-full overflow-hidden relative"};function s(e,t,n,o,i,s){var u=(0,a.up)("tutorial"),c=(0,a.up)("Header"),d=(0,a.up)("EvidenceInput"),p=(0,a.up)("BlockUI"),f=(0,a.up)("Therapy"),h=(0,a.up)("Explanation");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{onSetBlock:t[0]||(t[0]=function(e){return i.block=e})}),(0,a._)("div",r,[(0,a.Wm)(c,{class:"flex",ref:"menu",onChangePage:t[1]||(t[1]=function(e){return s.changePage()})},null,512),(0,a._)("div",l,[(0,a.Wm)(p,{class:"col-3 flex-column h-full",blocked:i.block.evidence},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{class:"h-full"})]})),_:1},8,["blocked"]),(0,a.Wm)(p,{class:"col h-full",blocked:i.block.options},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{class:"h-full"})]})),_:1},8,["blocked"]),(0,a.Wm)(p,{class:"col h-full",blocked:i.block.explain},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{class:"h-full"})]})),_:1},8,["blocked"])])])],64)}var u=n(8534),c=(n(5666),n(2526),n(1817),n(3577)),d=n.p+"img/DoctorBN_Logo.402f99e0.png",p=function(e){return(0,a.dD)("data-v-2e4bfd42"),e=e(),(0,a.Cn)(),e},f=p((function(){return(0,a._)("div",{id:"logo",class:"r-2"},[(0,a._)("img",{src:d,style:{height:"1.5rem"}})],-1)}));function h(e,t,n,o,i,r){var l=(0,a.up)("Menubar"),s=(0,a.up)("LoadPatient"),u=(0,a.up)("OverlayPanel"),d=(0,a.up)("Feedback"),p=(0,a.up)("Dialog"),h=(0,a.up)("Compare"),m=(0,a.up)("Listbox");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{model:i.items,ref:"menu",class:"p-0 -0",style:{position:"relative","z-index":"10"}},{end:(0,a.w5)((function(){return[f]})),_:1},8,["model"]),(0,a.Wm)(u,{ref:"loadOverlay"},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{onLoaded:r.loadPatient},null,8,["onLoaded"])]})),_:1},512),(0,a.Wm)(p,{header:e.$t("Feedback"),visible:i.showFeedback,"onUpdate:visible":t[0]||(t[0]=function(e){return i.showFeedback=e}),style:{width:"50%"},modal:!0},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{onSendFeedback:r.sendFeedback},null,8,["onSendFeedback"])]})),_:1},8,["header","visible"]),(0,a.Wm)(u,{ref:"networkOverlay",header:e.$t("NetworkDescription"),style:{width:"50%"},modal:!0},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(o.Store.description),1)]})),_:1},8,["header"]),(0,a.Wm)(u,{ref:"compareOverlay",style:{width:"50%"}},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{onSaveConfig:t[1]||(t[1]=function(e){return r.saveConfig(e)}),configurations:o.Store.configurations,onCompareTo:t[2]||(t[2]=function(e){return r.compareTo(e)}),onLoad:t[3]||(t[3]=function(e){return r.load(e)}),onDeleteConfig:t[4]||(t[4]=function(e){return r.deleteConfig(e)})},null,8,["configurations"])]})),_:1},512),(0,a.Wm)(u,{ref:"langOverlay"},{default:(0,a.w5)((function(){return[((0,a.wg)(),(0,a.j4)(m,{modelValue:e.$i18n.locale,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.$i18n.locale=t}),options:e.$i18n.availableLocales,key:"locale-".concat(e.locale),value:e.locale,onChange:t[6]||(t[6]=function(e){return r.langChange()})},null,8,["modelValue","options","value"]))]})),_:1},512)],64)}n(9826),n(1539),n(7327),n(8862),n(4747);var m=(0,a._)("br",null,null,-1),g=(0,a._)("div",{style:{color:"red"}}," Currently not working!",-1),v={class:"p-field-checkbox"},w={for:"checkConfig"};function b(e,t,n,o,i,r){var l=(0,a.up)("Textarea"),s=(0,a.up)("Checkbox"),u=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Uk)((0,c.zw)(e.$t("FeedbackInfo"))+" ",1),m,g,(0,a._)("form",null,[(0,a.Wm)(l,{modelValue:i.description,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.description=e}),rows:"5",style:{width:"100%"}},null,8,["modelValue"]),(0,a._)("div",v,[(0,a.Wm)(s,{id:"checkConfig",modelValue:i.sendConfig,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.sendConfig=e}),binary:!0,value:"true"},null,8,["modelValue"]),(0,a._)("label",w,(0,c.zw)(e.$t("IncludeConfig")),1)]),(0,a.Wm)(u,{label:e.$t("send"),onClick:r.sendFeedback},null,8,["label","onClick"])])],64)}var k={name:"send-feedback",emits:["sendFeedback"],data:function(){return{sendConfig:!1,description:""}},methods:{sendFeedback:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){var n,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="NONE",e.sendConfig&&(n=e.Store.createCSVcontent()),t.next=4,fetch("https://doctorbn-backend.herokuapp.com/sendFeedback",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({description:e.description,csv:n})});case 4:return o=t.sent,t.next=7,o;case 7:a=t.sent,console.log(a),e.$emit("sendFeedback");case 10:case"end":return t.stop()}}),t)})))()}}},y=n(3744);const S=(0,y.Z)(k,[["render",b]]);var x=S,N=(0,a._)("br",null,null,-1);function C(e,t,n,i,r,l){var s=(0,a.up)("Column"),u=(0,a.up)("Button"),d=(0,a.up)("DataTable"),p=(0,a.up)("InputText");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d,{value:n.configurations,autoLayout:!0},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{field:"name"}),(0,a.Wm)(s,null,{body:(0,a.w5)((function(t){return[(0,a.Wm)(u,{class:"mx-1 p-button-secondary",label:e.$t("compare"),onClick:function(e){return l.compare(t.data.name)}},null,8,["label","onClick"]),(0,a.Wm)(u,{class:"mx-1 p-button-secondary",label:e.$t("load"),onClick:function(e){return l.load(t.data.name)}},null,8,["label","onClick"]),(0,a.Wm)(u,{class:"mx-1 p-button-secondary",label:e.$t("delete"),onClick:function(e){return l.deleteConfig(t.data.name)}},null,8,["label","onClick"])]})),_:1})]})),_:1},8,["value"]),N,(0,a.Uk)(" "+(0,c.zw)(e.$t("SaveConfig"))+": ",1),(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)((function(){return l.saveConfig&&l.saveConfig.apply(l,arguments)}),["prevent"]))},[(0,a.Wm)(p,{type:"text",modelValue:r.patientName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.patientName=e}),required:""},null,8,["modelValue"]),(0,a.Wm)(u,{label:e.$t("save"),onClick:t[1]||(t[1]=function(e){return l.saveConfig()})},null,8,["label"])],32)],64)}var _={name:"compare-configs",emits:["saveConfig","load","compareTo","deleteConfig"],props:["configurations"],data:function(){return{selected:null,showNameInput:!1,patientName:"save_1"}},mounted:function(){this.updateStandardSaveName()},methods:{updateStandardSaveName:function(){var e=1;while(this.configurations.find((function(t){return t.name==="save_"+e})))e++;this.patientName="save_"+e},saveConfig:function(){var e=this;this.configurations.find((function(t){return t.name===e.patientName}))?alert(this.$t("ErrName")):(this.showNameInput=!1,this.$emit("saveConfig",this.patientName),this.updateStandardSaveName())},load:function(e){this.$emit("load",e)},compare:function(e){this.$emit("compareTo",e)},deleteConfig:function(e){this.$emit("deleteConfig",e)}}};const T=(0,y.Z)(_,[["render",C]]);var z=T,D=(0,a._)("br",null,null,-1),O=(0,a._)("br",null,null,-1),$={class:"flex"};function W(e,t,n,o,i,r){var l=(0,a.up)("InputText"),s=(0,a.up)("FileUpload"),u=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("label",null,(0,c.zw)(e.$t("name"))+": ",1),(0,a.Wm)(l,{type:"text",modelValue:o.Store.patient.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.Store.patient.name=e})},null,8,["modelValue"]),D,O,(0,a._)("div",$,[(0,a.Wm)(s,{name:"net-upload",url:"./Patientupload",accept:".csv",customUpload:!0,chooseIcon:"pi pi-upload",mode:"basic",auto:!0,chooseLabel:e.$t("Upload"),onUploader:t[1]||(t[1]=function(e){return r.read(e)}),class:"flex-auto flex"},null,8,["chooseLabel"]),(0,a.Wm)(u,{label:e.$t("save"),onClick:t[2]||(t[2]=function(e){return r.exportCSV()}),icon:"pi pi-download",class:"flex-auto flex"},null,8,["label"])])],64)}n(4916),n(5306),n(3123),n(7042),n(1249),n(6699),n(2023);var E=n(250),j=(0,E.Q_)("store",{state:function(){return{patient:{targets:[],evidence:[],goals:[],nodes:[],name:""},options:{options:null,likelyResult:null,selectedOption:null},explain:{explanation:null,relevance:null,states:null},edges:[],labels:null,configurations:[],selectedConfig:null,newGoals:null,optionsLoading:!1,explanationLoading:!1,description:"",network:"",localNet:"",phases:[],currentPhase:null,showTutorial:!1}},actions:{reset:function(){var e=arguments,t=this;return(0,u.Z)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.length>0&&void 0!==e[0]&&e[0],t.patient.targets=[],t.patient.evidence=[],t.patient.goals=[],t.patient.nodes=[],t.patient.name="",t.options.options=null,t.options.selectedOption=null,t.options.likelyResult=null,t.newGoals=null,t.explain.relevance=null,t.explain.states=null,t.explain.explanation=null,t.currentPhase=null,n.next=16,t.loadNodes(o);case 16:case"end":return n.stop()}}),n)})))()},calculate:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){var n,o,a,i,r,l,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0===e.patient.evidence.length||0===e.patient.goals.length){t.next=30;break}for(o in e.optionsLoading=!0,e.explanationLoading=!0,n={},e.patient.evidence)n[e.patient.evidence[o].name]=e.patient.evidence[o].selected.name;for(i in a={},e.patient.goals)a[e.patient.goals[i].name]=e.patient.goals[i].selected.name;for(l in r=[],e.patient.targets)r.push(e.patient.targets[l].name);if(s=null,!e.localNet){t.next=16;break}return t.next=13,fetch("https://doctorbn-backend.herokuapp.com/calcTargetForGoals",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({network:e.network,fileString:e.localNet.fileString,fileFormat:e.localNet.fileFormat,evidences:n,target:r,goals:a})});case 13:s=t.sent,t.next=19;break;case 16:return t.next=18,fetch("https://doctorbn-backend.herokuapp.com/calcTargetForGoals",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({network:e.network,evidences:n,target:r,goals:a})});case 18:s=t.sent;case 19:return t.next=21,s.json();case 21:return u=t.sent,0!==e.patient.targets.length?e.options.options=u.optionResults:e.options.options=[],e.options.likelyResult=[{option:{},value:u.likelyResults.value,goalValues:u.likelyResults.goalValues}],e.options.options.unshift(e.options.likelyResult[0]),e.options.selectedOption=e.options.likelyResult[0],e.newGoals=a,e.optionsLoading=!1,t.next=30,e.calculateOption();case 30:case"end":return t.stop()}}),t)})))()},calculateOption:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){var n,o,a,i,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(o in e.explanationLoading=!0,n={},e.patient.evidence)n[e.patient.evidence[o].name]=e.patient.evidence[o].selected.name;for(i in a={},e.patient.goals)a[e.patient.goals[i].name]=e.patient.goals[i].selected.name;if(r=null,!e.localNet){t.next=12;break}return t.next=9,fetch("https://doctorbn-backend.herokuapp.com/calcOptions",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({network:e.network,fileString:e.localNet.fileString,fileFormat:e.localNet.fileFormat,evidences:n,options:e.options.selectedOption.option,goals:a})});case 9:r=t.sent,t.next=15;break;case 12:return t.next=14,fetch("https://doctorbn-backend.herokuapp.com/calcOptions",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({network:e.network,evidences:n,options:e.options.selectedOption.option,goals:a})});case 14:r=t.sent;case 15:return t.next=17,r.json();case 17:l=t.sent,e.explain.relevance=l.relevance,e.newGoals=a,e.explain.states=l.nodes,e.explain.explanation=l.explanation,e.explanationLoading=!1;case 23:case"end":return t.stop()}}),t)})))()},loadNodes:function(){var e=arguments,t=this;return(0,u.Z)(regeneratorRuntime.mark((function n(){var o,a,i,r,l,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.length>0&&void 0!==e[0]&&e[0],a=null,!t.localNet){n.next=8;break}return n.next=5,fetch("https://doctorbn-backend.herokuapp.com/getLocalNetwork",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({fileString:t.localNet.fileString,fileFormat:t.localNet.fileFormat,description:t.localNet.description})});case 5:a=n.sent,n.next=11;break;case 8:return n.next=10,fetch("https://doctorbn-backend.herokuapp.com/getNetwork?network="+t.network);case 10:a=n.sent;case 11:return n.next=13,a.json();case 13:for(s in i=n.sent,r=[],l=function(){var e=[];i.states[s].forEach((function(t){e.push({name:t})})),r.push({name:s,options:e})},i.states)l();t.patient.nodes=r,t.edges=[],i.edges.forEach((function(e){t.edges.push({source:e[0],target:e[1]})})),t.description=i.description,t.labels=i.labels,u=i.customization,null!=u&&(t.phases=i.customization.phases,o||(t.currentPhase=t.phases[0],t.phase_change()));case 24:case"end":return n.stop()}}),n)})))()},addEvidences:function(e){var t=this;e.forEach((function(e){t.patient.evidence=t.patient.evidence.filter((function(t){return t.name!==e.name})),t.patient.nodes=t.patient.nodes.filter((function(t){return t.name!==e.name})),t.patient.evidence.push(e)})),this.calculate()},deleteEvidence:function(e){this.patient.evidence=this.patient.evidence.filter((function(t){return t.name!==e.name})),this.patient.nodes.push({name:e.name,options:e.options}),this.calculate()},addTargets:function(e){var t=this;e.forEach((function(e){t.patient.targets.push(e),t.patient.nodes=t.patient.nodes.filter((function(t){return t.name!==e.name}))})),this.calculate()},deleteTarget:function(e){this.patient.targets=this.patient.targets.filter((function(t){return t.name!==e.name})),this.patient.nodes.push(e),this.calculate()},addGoals:function(e){var t=this;e.forEach((function(e){t.patient.goals=t.patient.goals.filter((function(t){return t.name!==e.name})),t.patient.nodes=t.patient.nodes.filter((function(t){return t.name!==e.name})),t.patient.goals.push(e)})),this.calculate()},deleteGoal:function(e){this.patient.goals=this.patient.goals.filter((function(t){return t.name!==e.name})),this.patient.nodes.push({name:e.name,options:e.options}),this.calculate()},createCSVcontent:function(){var e="Type; Variable; Option";return this.patient.evidence.forEach((function(t){e+="\nevidence; "+t.name+"; "+t.selected.name})),this.patient.targets.forEach((function(t){e+="\ntarget; "+t.name})),this.patient.goals.forEach((function(t){e+="\ngoal; "+t.name+"; "+t.selected.name})),e},phase_change:function(){var e=this;this.patient.targets.forEach((function(t){return e.deleteTarget(t)})),this.patient.goals.forEach((function(t){return e.deleteGoal(t)})),this.addTargets(this.patient.nodes.filter((function(t){return e.currentPhase.sets.target.includes(t.name)})));var t=[];this.currentPhase.sets.goal.forEach((function(n){var o=e.patient.nodes.find((function(e){return e.name===n.name}));t.push({name:n.name,selected:{name:n.option},options:o.options})})),this.addGoals(t)}}}),P={name:"load-patient",emits:["loaded"],setup:function(){var e=j();return{Store:e}},data:function(){return{patient:{evidence:[],targets:[],goals:[]}}},methods:{read:function(e){var t=this,n=e.files[0],o=n.name.replace(".csv",""),a=new FileReader;a.onload=function(e){var n=e.target.result,a="; ",i=["type","name","option"],r=n.slice(n.indexOf("\n")+1).split("\n"),l=r.map((function(e){var t=e.split(a);return i.reduce((function(e,n,o){return e[n]=t[o],e}),{})}));t.load(l,o)},a.readAsText(n)},getCorrespondingNode:function(e){var t=this,n=[];return e.forEach((function(e){var o=t.Store.patient.nodes.find((function(t){return t.name===e.name}));null==o&&console.log(e);var a={name:o.name,selected:{name:e.option},options:o.options};n.push(a)})),n},load:function(e,t){var n=this;return(0,u.Z)(regeneratorRuntime.mark((function o(){var a,i,r,l,s,u;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:for(a in e)i=e[a],r={name:i.name,option:i.option},"evidence"===i.type?(console.log(n),n.patient.evidence.push(r)):"goal"===i.type?n.patient.goals.push(r):"target"===i.type&&n.patient.targets.push({name:i.name});return o.next=3,n.Store.reset(!0);case 3:l=n.getCorrespondingNode(n.patient.evidence),s=n.getCorrespondingNode(n.patient.targets),u=n.getCorrespondingNode(n.patient.goals),n.Store.addEvidences(l),n.Store.addTargets(s),n.Store.addGoals(u),n.Store.patient.name=t,console.log("Patient: "+t),n.$emit("loaded");case 12:case"end":return o.stop()}}),o)})))()},exportCSV:function(){var e=this.Store.createCSVcontent(),t=document.createElement("a");t.href="data:text/csv;charset=utf-8,"+encodeURIComponent(e),t.target="_blank",t.download=this.Store.patient.name+".csv",t.click()}}};const U=(0,y.Z)(P,[["render",W]]);var I=U,L=n(6358),R={name:"page-header",emits:["changePage","loadPatient","exportCSV"],components:{Feedback:x,Compare:z,LoadPatient:I},setup:function(){var e=j();return{Store:e}},watch:{patient:function(e){var t=this.items.find((function(e){return"Patient"===e.key}));t.label=""!==e?"Patient: "+e:"Patient"}},computed:{patient:function(){return this.Store.patient.name}},data:function(){var e=this;return{showFeedback:!1,showNetworkDescription:!1,SavePatientName:null,configLabel:"saved configurations",items:[{label:this.$t("Settings"),key:"Settings",icon:L.dv.BARS,items:[{label:this.$t("Reset"),key:"Reset",command:function(){e.reset()}},{label:this.$t("ChangeLanguage"),key:"ChangeLanguage",command:function(t){e.showLanguage(t.originalEvent)}}]},{label:"Patient "+this.Store.patient.name,icon:L.dv.USER,key:"Patient",command:function(t){e.loadPatient(t.originalEvent)},items:[]},{label:this.$t("Network")+": "+this.Store.network,key:"NetworkDescription",icon:L.dv.BOOK,command:function(t){e.$refs.networkOverlay.toggle(t.originalEvent)},items:[]},{key:"savedConfigurations",label:this.$t("compare"),icon:L.dv.BOOKMARK,command:function(t){e.$refs.compareOverlay.toggle(t.originalEvent)},items:[]},{label:"Help",key:"Help",icon:L.dv.QUESTION_CIRCLE,items:[{label:this.$t("SendFeedback"),key:"SendFeedback",icon:L.dv.SEND,command:function(){e.showFeedback=!0}},{label:"Show tutorial",key:"ShowTutorial",icon:L.dv.QUESTION,command:function(){e.Store.showTutorial=!0}}]},{label:this.$t("backToNetwork"),key:"backToNetwork",icon:L.dv.HOME,command:function(){e.changePage()}}]}},methods:{changePage:function(){this.$emit("changePage")},reset:function(){this.Store.reset()},compareTo:function(e){var t=this,n=this.items.find((function(e){return"savedConfigurations"===e.key}));n.label=this.$t("ComparingTo")+e,n.icon="pi pi-fw pi-times",n.command=function(){t.stopComparing()},this.Store.selectedConfig=this.Store.configurations.find((function(t){return t.name===e})),this.$refs.compareOverlay.toggle()},stopComparing:function(){var e=this,t=this.items.find((function(e){return"savedConfigurations"===e.key}));t.label=this.$t("Compare"),t.icon=L.dv.BOOKMARK,t.command=function(t){e.$refs.compareOverlay.toggle(t.originalEvent)},this.Store.selectedConfig=null},load:function(e){var t=this.Store.configurations.find((function(t){return t.name===e}));this.Store.patient=t.config.patient,this.Store.options=t.config.options,this.Store.explain=t.config.explain,this.Store.newGoals=t.config.newGoals,this.$refs.compareOverlay.toggle()},deleteConfig:function(e){this.Store.configurations=this.Store.configurations.filter((function(t){return t.name!==e}))},saveConfig:function(e){this.Store.configurations.push({name:e,config:{patient:JSON.parse(JSON.stringify(this.Store.patient)),options:JSON.parse(JSON.stringify(this.Store.options)),explain:JSON.parse(JSON.stringify(this.Store.explain)),newGoals:JSON.parse(JSON.stringify(this.Store.newGoals))}})},sendFeedback:function(){this.showFeedback=!1},showLanguage:function(e){this.$refs.langOverlay.toggle(e)},langChange:function(){var e=this;this.items.forEach((function(t){t.label=e.$t(t.key)}))},openLoadForm:function(e){console.log(e),this.$refs.panel.toggle(e)},loadPatient:function(e){this.$refs.loadOverlay.toggle(e)}}};const V=(0,y.Z)(R,[["render",h],["__scopeId","data-v-2e4bfd42"]]);var H=V,B=(n(7941),{key:0}),F={key:1},Z={key:0},A={key:1};function G(e,t,n,o,i,r){var l=(0,a.up)("Button"),s=(0,a.up)("OverlayPanel"),u=(0,a.up)("ProgressBar"),d=(0,a.up)("Relevance"),p=(0,a.up)("TabPanel"),f=(0,a.up)("NodeList"),h=(0,a.up)("sugiyama"),m=(0,a.up)("sugiyamaCompare"),g=(0,a.up)("TabView"),v=(0,a.up)("ScrollPanel"),w=(0,a.up)("Card");return(0,a.wg)(),(0,a.j4)(w,{class:(0,c.C_)(r.getCardClass())},(0,a.Nv)({title:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("Explanation"))+" ",1),(0,a.Wm)(l,{icon:"pi pi-question",class:"p-button-text p-button-secondary p-button-rounded p-button-raised help",onClick:t[0]||(t[0]=function(t){return e.$refs.op.toggle(t)})}),(0,a.Wm)(s,{ref:"op",style:{width:"500px"}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("ExplanationHelp"))+" ",1),(0,a._)("h3",null,(0,c.zw)(e.$t("Relevance")),1),(0,a.Uk)(" "+(0,c.zw)(e.$t("RelevanceHelp"))+" ",1),(0,a._)("h3",null,(0,c.zw)(e.$t("AllPredictions")),1),(0,a.Uk)(" "+(0,c.zw)(e.$t("AllPredictionsHelp"))+" ",1),(0,a._)("h3",null,(0,c.zw)(e.$t("CompactNetwork")),1),(0,a.Uk)(" "+(0,c.zw)(e.$t("CompactNetworkHelp"))+" ",1),(0,a._)("h3",null,(0,c.zw)(e.$t("FullNetwork")),1),(0,a.Uk)(" "+(0,c.zw)(e.$t("FullNetworkHelp")),1)]})),_:1},512)]})),content:(0,a.w5)((function(){return[(0,a.Wm)(v,{class:"h-full"},{default:(0,a.w5)((function(){return[o.Store.explanationLoading?((0,a.wg)(),(0,a.j4)(u,{key:0,mode:"indeterminate",style:{height:".5em"}})):((0,a.wg)(),(0,a.j4)(g,{key:1},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{header:e.$t("Relevance")},{default:(0,a.w5)((function(){return[(0,a.Wm)(d)]})),_:1},8,["header"]),(0,a.Wm)(p,{header:e.$t("AllPredictions")},{default:(0,a.w5)((function(){return[(0,a.Wm)(f)]})),_:1},8,["header"]),(0,a.Wm)(p,{header:e.$t("CompactNetwork")},{default:(0,a.w5)((function(){return[null==o.Store.selectedConfig?((0,a.wg)(),(0,a.iD)("div",B,[(0,a.Wm)(h,{edges:r.getCompactEdges(),nodes:r.getExNodes(),labels:o.Store.labels},null,8,["edges","nodes","labels"])])):((0,a.wg)(),(0,a.iD)("div",F,[(0,a.Wm)(m,{edges:r.getCompactEdges(),nodes:r.getExNodes(),nodes2:o.Store.selectedConfig.config.explain.states,name2:o.Store.selectedConfig.name,labels:o.Store.labels},null,8,["edges","nodes","nodes2","name2","labels"])]))]})),_:1},8,["header"]),(0,a.Wm)(p,{header:e.$t("FullNetwork")},{default:(0,a.w5)((function(){return[null==o.Store.selectedConfig?((0,a.wg)(),(0,a.iD)("div",Z,[(0,a.Wm)(h,{edges:o.Store.edges,nodes:o.Store.explain.states,labels:o.Store.labels},null,8,["edges","nodes","labels"])])):((0,a.wg)(),(0,a.iD)("div",A,[(0,a.Wm)(m,{edges:o.Store.edges,nodes:o.Store.explain.states,nodes2:o.Store.selectedConfig.config.explain.states,name2:o.Store.selectedConfig.name,labels:o.Store.labels},null,8,["edges","nodes","nodes2","name2","labels"])]))]})),_:1},8,["header"])]})),_:1}))]})),_:1})]})),_:2},[o.Store.options.selectedOption?{name:"subtitle",fn:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(o.Store.options.selectedOption.option),(function(e){return(0,a.wg)(),(0,a.iD)("div",{key:e},[(0,a._)("b",null,(0,c.zw)(o.Store.labels[e])+": "+(0,c.zw)(o.Store.options.selectedOption.option[e]),1)])})),128))]}))}:void 0]),1032,["class"])}n(189),n(8783),n(3948),n(9720),n(6977);var K={class:"flex p-dir-col"},q={key:0,class:"col"};function Y(e,t,n,o,i,r){var l=(0,a.up)("Column"),s=(0,a.up)("bar"),u=(0,a.up)("twoSidedBar"),d=(0,a.up)("DataTable"),p=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("div",K,[(0,a.Wm)(d,{class:"col p-datatable-sm",value:o.Store.explain.relevance,dataKey:"node_name",rowClass:r.isTherapyRow},{default:(0,a.w5)((function(){return[(0,a.Wm)(l,{header:e.$t("Node"),field:"node_name"},{body:(0,a.w5)((function(e){return[(0,a.Uk)((0,c.zw)(o.Store.labels[e.data.node_name])+": "+(0,c.zw)(r.getState(e.data.node_name)),1)]})),_:1},8,["header"]),(0,a.Wm)(l,{header:e.$t("Relevance"),field:"overall_relevance"},{body:(0,a.w5)((function(e){return[(0,a.wy)((0,a.Wm)(s,{value:e.data.overall_relevance,color:"#004d80",width:"200"},null,8,["value"]),[[p,100*e.data.overall_relevance.toFixed(2)+"%"]])]})),_:1},8,["header"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.getGoalKeys(),(function(e){return(0,a.wg)(),(0,a.j4)(l,{field:e,header:e,key:e},{body:(0,a.w5)((function(t){return[(0,a.wy)((0,a.Wm)(u,{value:t.data.relevancies[r.getIdentifier(e)]},null,8,["value"]),[[p,r.getDirectionTooltip(t.data.relevancies[r.getIdentifier(e)])]])]})),_:2},1032,["field","header"])})),128))]})),_:1},8,["value","rowClass"]),null!==o.Store.selectedConfig?((0,a.wg)(),(0,a.iD)("div",q,[(0,a._)("h3",null,(0,c.zw)(o.Store.selectedConfig.name)+":",1),(0,a.Wm)(d,{class:"col p-datatable-sm",value:o.Store.selectedConfig.config.explain.relevance,dataKey:"node_name",rowClass:r.isTherapyRow},{default:(0,a.w5)((function(){return[(0,a.Wm)(l,{header:e.$t("Node"),field:"node_name"},{body:(0,a.w5)((function(e){return[(0,a.Uk)((0,c.zw)(o.Store.labels[e.data.node_name])+": "+(0,c.zw)(r.getCompareState(e.data.node_name)),1)]})),_:1},8,["header"]),(0,a.Wm)(l,{header:e.$t("Relevance"),field:"overall_relevance"},{body:(0,a.w5)((function(e){return[(0,a.wy)((0,a.Wm)(s,{value:e.data.overall_relevance,color:"#004d80",width:"200"},null,8,["value"]),[[p,100*e.data.overall_relevance.toFixed(2)+"%"]])]})),_:1},8,["header"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.getCompareGoalKeys(),(function(e){return(0,a.wg)(),(0,a.j4)(l,{field:e,header:e,key:e},{body:(0,a.w5)((function(t){return[(0,a.wy)((0,a.Wm)(u,{value:t.data.relevancies[r.getIdentifier(e)]},null,8,["value"]),[[p,r.getDirectionTooltip(t.data.relevancies[r.getIdentifier(e)])]])]})),_:2},1032,["field","header"])})),128))]})),_:1},8,["value","rowClass"])])):(0,a.kq)("",!0)])}var M=n(8818),J={ref:"container"};function Q(e,t,n,o,i,r){return(0,a.wg)(),(0,a.iD)("div",J,null,512)}var X=n(6087),ee={name:"bar-vis",props:["value","color","width"],mounted:function(){this.visualise()},watch:{value:function(){this.visualise()},color:function(){this.visualise()}},methods:{visualise:function(){var e=this.width,t=50,n="black";if("trafficlight"===this.color){var o=X.aE8().domain([0,1]).range(["red","chocolate","darkGoldenRod","yellowgreen","green"]);n=o(this.value)}else if("bluescale"===this.color){var a=X.BYU().domain([0,1]).range(["darkslategrey","midnightblue"]);n=a(this.value)}else n=this.color;X.Ys(this.$refs.container).selectAll("*").remove();var i=X.Ys(this.$refs.container).append("svg").attr("height",25).attr("viewBox",[0,0,e,t]),r=X.BYU().domain([0,1]).range([0,e]);i.append("rect").style("stroke","black").style("stroke-width",3).attr("fill","white").attr("y",0).attr("x",0).attr("height",t).attr("width",e),i.append("rect").attr("fill",n).attr("y",0).attr("x",0).attr("height",50).attr("width",r(this.value))}}};const te=(0,y.Z)(ee,[["render",Q]]);var ne=te,oe={ref:"container"};function ae(e,t,n,o,i,r){return(0,a.wg)(),(0,a.iD)("div",oe,null,512)}var ie={name:"two-sided-bar-vis",props:["value"],mounted:function(){this.visualise()},methods:{visualise:function(){var e=300,t=50,n=X.aE8().domain([-1,1]).range(["red","green"]),o=X.Ys(this.$refs.container).append("svg").attr("viewBox",[0,0,e,t]),a=X.BYU().domain([0,.1]).range([0,e/2]),i=0,r=this.value;this.value<0&&(r*=-1),this.value<0&&(i=-a(r)),o.append("rect").attr("fill",n(this.value)).attr("y",3).attr("x",e/2+i).attr("height",t-6).attr("width",a(r)),o.append("line").style("stroke","black").style("stroke-width",3).attr("x1",e/2).attr("y1",0).attr("x2",e/2).attr("y2",t)}}};const re=(0,y.Z)(ie,[["render",ae]]);var le=re,se={name:"relevance-explanation",components:{bar:ne,twoSidedBar:le},setup:function(){var e=j();return{Store:e}},data:function(){return{showLocal:!1}},methods:{getGoalKeys:function(){var e=this;if(null!=this.Store.newGoals){var t=[];return Object.keys(this.Store.newGoals).forEach((function(n){t.push(e.Store.labels[n]+": "+e.Store.newGoals[n])})),t}},getCompareGoalKeys:function(){var e=this;if(null!=this.Store.selectedConfig){var t=[];return Object.keys(this.Store.selectedConfig.config.newGoals).forEach((function(n){t.push(e.Store.labels[n]+": "+e.Store.selectedConfig.config.newGoals[n])})),console.log(this.Store.selectedConfig),console.log("GoalNames:"),console.log(t),t}},getDirectionTooltip:function(e){return e>.001?this.$t("positiveInfluence"):e<-.001?this.$t("negativeInfluence"):this.$t("noInfluence")},getIdentifier:function(e){var t="-1",n=e.split(":")[0];return Object.entries(this.Store.labels).forEach((function(e){var o=(0,M.Z)(e,2),a=o[0],i=o[1];i===n&&(t=a)})),t+":"+e.split(":")[1]},getState:function(e){var t="unknown";return this.Store.explain.states.forEach((function(n){n.name===e&&(t=n.state)})),t},getCompareState:function(e){var t="unknown";return this.Store.selectedConfig.config.explain.states.forEach((function(n){n.name===e&&(t=n.state)})),t},isTherapyRow:function(e){var t=null;return this.Store.patient.targets.forEach((function(n){n.name===e.node_name&&(t="therapy")})),t}}};const ue=(0,y.Z)(se,[["render",Y],["__scopeId","data-v-7a2009df"]]);var ce=ue,de={ref:"container"};function pe(e,t,n,o,i,r){var l=(0,a.up)("Chip");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a.Uk)((0,c.zw)(e.$t("theNetworkIs"))+" ",1),(0,a.Wm)(l,{class:"mx-1",style:{"background-color":"green"},label:e.$t("verySure")},null,8,["label"]),(0,a.Wm)(l,{class:"mx-1",style:{"background-color":"darkgoldenrod"},label:e.$t("lessSure")},null,8,["label"]),(0,a.Wm)(l,{class:"mx-1",style:{"background-color":"red"},label:e.$t("notSure")},null,8,["label"]),(0,a.Uk)(" , "+(0,c.zw)(e.$t("orTheValueIs"))+" ",1),(0,a.Wm)(l,{class:"mx-1",style:{"background-color":"black"},label:e.$t("given")},null,8,["label"])]),(0,a._)("div",de,null,512)],64)}n(2222);var fe=n(2834),he={name:"sugiyama-vis",props:["nodes","edges","labels"],computed:{edgeList:function(){var e=[];return this.edges&&this.edges.forEach((function(t){e.push([t["source"],t["target"]])})),e}},mounted:function(){null!=this.nodes&&null!=this.edges&&this.visualise()},watch:{nodes:function(){this.visualise()},edges:function(){this.visualise()}},data:function(){return{}},methods:{getState:function(e){return this.nodes.find((function(t){return t.name===e.data.id})).state},getProbability:function(e){return this.nodes.find((function(t){return t.name===e.data.id})).probability},visualise:function(){var e=this;function t(e,t,n){X.Ys(t.target).text(String(e.labels[n.data.id])+": ")}function n(e,t,n){X.Ys(t.target).text(String(e.labels[n.data.id]).substring(0,10)+": ")}if(null!==this.nodes&&this.edgeList!==[]&&0!==this.edgeList.length){var o=fe.tU()(this.edgeList),a=fe.EH().layering(fe.Zo()).decross(fe.qK().order(fe.q_())).coord(fe.iK()).nodeSize((function(e){var t=e instanceof fe.Dr?2:11;return[3*t,1.8*t]})),i=a(o),r=i.width,l=i.height;r>l?l=r:r=l;var s=X.aE8().domain([0,1]).range(["red","darkGoldenRod","green"]),u=function(e){return 1===e?"black":s(e)};X.Ys(this.$refs.container).selectAll("*").remove();var c=X.Ys(this.$refs.container).append("svg").attr("viewBox",[0,0,r,l]),d=X.NAG().type(X.P67).size(5);c.append("g").selectAll("path").data(o.links()).enter().append("path").attr("d",d).attr("transform",(function(e){var t=e.points,n=t.slice().reverse(),o=(0,M.Z)(n,2),a=o[0],i=o[1],r=i.x-a.x,l=i.y-a.y,s=Math.sqrt(r*r+l*l),u=180*Math.atan2(-l,-r)/Math.PI+90;return"translate(".concat(a.x+6*r/s,", ").concat(a.y+6*l/s,") rotate(").concat(u,")")})).attr("fill","black");var p=X.jvg().curve(X.zgE).x((function(e){return e.x})).y((function(e){return e.y}));c.append("g").selectAll("path").data(o.links()).enter().append("path").attr("d",(function(e){var t=e.points;return p(t)})).attr("fill","none").attr("stroke-width",.5).attr("stroke","black");var f=c.append("g").selectAll("g").data(o.descendants()).enter().append("g").attr("transform",(function(e){var t=e.x,n=e.y;return"translate(".concat(t,", ").concat(n,")")}));f.append("rect").attr("width",25).attr("height",10).attr("fill","white").attr("stroke-width",.5).attr("stroke",(function(t){return u(e.getProbability(t))})).attr("rx",2).attr("ry",2).attr("transform","translate(-12.5,-4)"),f.append("text").text((function(t){return String(e.labels[t.data.id]).substring(0,10)+": "})).attr("class","text").attr("text-anchor","middle").attr("font-size","4px").on("mouseenter",(function(n,o){return t(e,n,o)})).on("mouseleave",(function(t,o){return n(e,t,o)})),f.append("text").text((function(t){return String(e.getState(t)).substring(0,10)})).attr("class","text").attr("font-size","4px").attr("text-anchor","middle").attr("dy",5)}}}};const me=(0,y.Z)(he,[["render",pe],["__scopeId","data-v-d206f4e4"]]);var ge=me,ve={key:0};function we(e,t,n,o,i,r){var l=(0,a.up)("Column"),s=(0,a.up)("Chip"),u=(0,a.up)("DataTable");return(0,a.wg)(),(0,a.j4)(u,{value:r.data},{default:(0,a.w5)((function(){return[(0,a.Wm)(l,{header:e.$t("Node"),field:"label",sortable:!0},null,8,["header"]),(0,a.Wm)(l,{header:e.$t("Prediction"),field:"state"},null,8,["header"]),(0,a.Wm)(l,{header:e.$t("Likeliness")},{body:(0,a.w5)((function(e){return[(0,a.Wm)(s,{class:"mx-1",style:(0,c.j5)({backgroundColor:r.color(e.data.probability)}),label:r.getLabel(e.data.probability)},null,8,["style","label"])]})),_:1},8,["header"]),o.Store.selectedConfig?((0,a.wg)(),(0,a.j4)(l,{key:0,header:"",field:"beforeState"},{body:(0,a.w5)((function(e){return[""!==e.data.beforeState?((0,a.wg)(),(0,a.iD)("div",ve,(0,c.zw)(o.Store.selectedConfig.name)+": Â ",1)):(0,a.kq)("",!0),(0,a._)("div",{style:(0,c.j5)({color:r.color(e.data.beforeProb)})},(0,c.zw)(e.data.beforeState),5)]})),_:1})):(0,a.kq)("",!0)]})),_:1},8,["value"])}var be={name:"list-explanation",setup:function(){var e=j();return{Store:e}},computed:{data:function(){var e=this;if(null===this.Store.explain.states)return null;if(null==this.Store.selectedConfig){var t=[];return this.Store.explain.states.forEach((function(n){t.push({name:n.name,label:e.Store.labels[n.name],state:n.state,probability:n.probability,beforeState:"",beforeProb:0})})),t}var n=[];return this.Store.explain.states.forEach((function(t){var o=e.Store.selectedConfig.config.explain.states.find((function(e){return e.name===t.name}));n.push({name:t.name,state:t.state,label:e.Store.labels[t.name],probability:t.probability,beforeState:t.state===o.state?"":o.state,beforeProb:t.state===o.state?0:o.probability})})),n}},methods:{color:function(e){if(1===e)return"black";var t=X.aE8().domain([0,1]).range(["red","darkGoldenRod","green"]);return t(e)},getLabel:function(e){if(1===e)return this.$t("given");var t=X.aE8().domain([0,1]).range([this.$t("notSure"),this.$t("lessSure"),this.$t("verySure")]);return t(e)}}};const ke=(0,y.Z)(be,[["render",we],["__scopeId","data-v-b1d4be44"]]);var ye=ke,Se=function(e){return(0,a.dD)("data-v-1fdc934b"),e=e(),(0,a.Cn)(),e},xe=(0,a.Uk)(" in "),Ne=Se((function(){return(0,a._)("span",{style:{border:"1px solid red","border-radius":"5px"}}," changed nodes",-1)})),Ce=(0,a.Uk)(" the different states are color coded: "),_e={ref:"container"};function Te(e,t,n,o,i,r){var l=(0,a.up)("Chip");return(0,a.wg)(),(0,a.iD)(a.HY,null,[xe,Ne,Ce,(0,a.Wm)(l,{class:"mx-1",style:{"background-color":"black"},label:"current"}),(0,a.Wm)(l,{class:"mx-1",style:{"background-color":"#6d00bf"},label:n.name2},null,8,["label"]),(0,a._)("div",_e,null,512)],64)}var ze={name:"sugiyama-vis-compare",props:["nodes","edges","nodes2","name2","labels"],computed:{edgeList:function(){var e=[];return this.edges.forEach((function(t){e.push([t["source"],t["target"]])})),e}},mounted:function(){null!=this.nodes&&null!=this.edges&&null!=this.nodes2&&this.visualise()},watch:{nodes:function(){this.visualise()},nodes2:function(){this.visualise()},edges:function(){this.visualise()}},methods:{getState:function(e){return this.nodes.find((function(t){return t.name===e.data.id})).state},getState2:function(e){return this.isChanged(e)?"("+this.nodes2.find((function(t){return t.name===e.data.id})).state+")":""},getProbability:function(e){return this.nodes.find((function(t){return t.name===e.data.id})).probability},isChanged:function(e){var t=this.nodes.find((function(t){return t.name===e.data.id})).state,n=this.nodes2.find((function(t){return t.name===e.data.id})).state;return t===n?0:1},visualise:function(){var e=this;function t(e,t,n){X.Ys(t.target).text(String(e.labels[n.data.id])+": ")}function n(e,t,n){console.log("dubs"),X.Ys(t.target).text(String(e.labels[n.data.id]).substring(0,10)+": ")}if(null!==this.nodes&&null!==this.edges&&null!==this.nodes2){var o=fe.tU()(this.edgeList),a=fe.EH().layering(fe.Zo()).decross(fe.qK().order(fe.q_())).coord(fe.iK()).nodeSize((function(e){var t=e instanceof fe.Dr?2:12;return[3*t,1.8*t]})),i=a(o),r=i.width,l=i.height;r>l?l=r:r=l;var s=X.aE8().domain([0,1]).range(["black","red"]);X.Ys(this.$refs.container).selectAll("*").remove();var u=X.Ys(this.$refs.container).append("svg").attr("viewBox",[0,0,r,l]),c=X.NAG().type(X.P67).size(5);u.append("g").selectAll("path").data(o.links()).enter().append("path").attr("d",c).attr("transform",(function(e){var t=e.points,n=t.slice().reverse(),o=(0,M.Z)(n,2),a=o[0],i=o[1],r=i.x-a.x,l=i.y-a.y,s=Math.sqrt(r*r+l*l),u=180*Math.atan2(-l,-r)/Math.PI+90;return"translate(".concat(a.x+6*r/s,", ").concat(a.y+6*l/s,") rotate(").concat(u,")")})).attr("fill","black");var d=X.jvg().curve(X.zgE).x((function(e){return e.x})).y((function(e){return e.y}));u.append("g").selectAll("path").data(o.links()).enter().append("path").attr("d",(function(e){var t=e.points;return d(t)})).attr("fill","none").attr("stroke-width",.5).attr("stroke","black");var p=u.append("g").selectAll("g").data(o.descendants()).enter().append("g").attr("transform",(function(e){var t=e.x,n=e.y;return"translate(".concat(t,", ").concat(n,")")}));p.append("rect").attr("width",25).attr("height",(function(t){return 10*(.7*e.isChanged(t)+1)})).attr("fill","white").attr("stroke-width",.5).attr("stroke",(function(t){return s(e.isChanged(t))})).attr("rx",2).attr("ry",2).attr("transform","translate(-12.5,-4)"),p.append("text").text((function(t){return String(e.labels[t.data.id]).substring(0,10)+": "})).attr("class","text").attr("text-anchor","middle").attr("font-size","4px").on("mouseenter",(function(n,o){return t(e,n,o)})).on("mouseleave",(function(t,o){return n(e,t,o)})),p.append("text").text((function(t){return String(e.getState(t)).substring(0,10)})).attr("class","text").attr("font-size","4px").attr("text-anchor","middle").attr("dy",5),p.append("text").text((function(t){return String(e.getState2(t)).substring(0,10)})).attr("class","text").attr("font-size","4px").attr("text-anchor","middle").attr("dy",10).attr("fill","#6d00bf")}}}};const De=(0,y.Z)(ze,[["render",Te],["__scopeId","data-v-1fdc934b"]]);var Oe=De,$e={name:"page-explanation",components:{Relevance:ce,sugiyama:ge,NodeList:ye,sugiyamaCompare:Oe},setup:function(){var e=j();return{Store:e}},data:function(){return{onlyGlobal:!0,compactEdges:null,exNodes:null}},computed:{compactNetwork:function(){var e=this;if(null==this.Store.explain.explanation)return null;var t=[];this.Store.explain.explanation["nodes"].forEach((function(n){var o=e.Store.explain.states.find((function(e){return e.name===n}));null!=o?t.push(o):t.push({name:n,probability:"1.0"})}));var n=[],o=new Set;this.Store.edges.forEach((function(t){e.Store.explain.explanation["nodes"].includes(t["source"])&&e.Store.explain.explanation["nodes"].includes(t["target"])&&(n.push(t),o.add(t["source"]),o.add(t["target"]))}));var a=this.Store.explain.explanation["nodes"].filter((function(e){return!o.has(e)}));return a.forEach((function(o){var a=e.Store.explain.states.filter((function(t){return null!=e.Store.edges.find((function(e){return e["source"]===o&&e["target"]===t.name}))}));a.forEach((function(a){var i=e.Store.edges.filter((function(e){return e["target"]===a.name}));i.forEach((function(i){i["source"]!==o&&e.Store.explain.explanation["nodes"].includes(i["source"])&&(t.includes(a)||t.push(a),n.push({source:o,target:a.name}),n.push(i))}))}))})),n=n.filter((function(e){return n.find((function(t){return t["source"]===e["source"]&&t["target"]===e["target"]}))===e})),{compactEdges:n,compactNodes:t}}},methods:{getExEdges:function(){if(null!=this.Store.explain.explanation)return this.Store.explain.explanation["edges"]},getCompactEdges:function(){if(null!=this.compactNetwork)return this.compactNetwork.compactEdges},getExNodes:function(){if(null!=this.compactNetwork)return this.compactNetwork.compactNodes},getCardClass:function(){return null===this.Store.options.selectedOption||0===Object.entries(this.Store.options.selectedOption.option).length?null:"treatmentCard"}}};const We=(0,y.Z)($e,[["render",G],["__scopeId","data-v-71342984"]]);var Ee=We,je=function(e){return(0,a.dD)("data-v-9e8c6e90"),e=e(),(0,a.Cn)(),e},Pe=je((function(){return(0,a._)("br",null,null,-1)})),Ue=je((function(){return(0,a._)("br",null,null,-1)})),Ie={class:"text-left"},Le={class:"text-left"},Re={class:"text-left"},Ve={key:1},He={class:"text-left"},Be={key:0},Fe={key:0},Ze={class:"b-2"},Ae=["field","header"],Ge={class:"r-2"},Ke={class:"r-2"};function qe(e,t,n,o,i,r){var l=(0,a.up)("Button"),s=(0,a.up)("OverlayPanel"),u=(0,a.up)("ProgressBar"),d=(0,a.up)("optionsTable"),p=(0,a.up)("TabPanel"),f=(0,a.up)("NodeInput"),h=(0,a.up)("NodeInputCompare"),m=(0,a.up)("TherapyInput"),g=(0,a.up)("bar"),v=(0,a.up)("TabView"),w=(0,a.up)("ScrollPanel"),b=(0,a.up)("Card"),k=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.j4)(b,{style:{height:"100%",position:"relative"}},{title:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("Prediction"))+" ",1),(0,a.Wm)(l,{icon:"pi pi-question",class:"p-button-text p-button-secondary p-button-rounded p-button-raised help",onClick:t[0]||(t[0]=function(t){return e.$refs.op.toggle(t)})}),(0,a.Wm)(s,{ref:"op",style:{width:"500px"}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("TreatmentHelp"))+" ",1),(0,a._)("h3",null,(0,c.zw)(e.$t("Interventions")),1),(0,a.Uk)(" "+(0,c.zw)(e.$t("InterventionsHelp"))+" ",1),(0,a._)("h3",null,(0,c.zw)(e.$t("DecisionRatings")),1),(0,a.Uk)(" "+(0,c.zw)(e.$t("DecisionRatingHelp"))+" ",1),Pe,Ue,(0,a.Uk)(" "+(0,c.zw)(e.$t("TreatmentChooseOne")),1)]})),_:1},512)]})),content:(0,a.w5)((function(){return[(0,a.Wm)(w,{style:{height:"100%"}},{default:(0,a.w5)((function(){return[(0,a._)("div",null,[o.Store.optionsLoading?((0,a.wg)(),(0,a.j4)(u,{key:0,mode:"indeterminate",style:{height:".5em"}})):(0,a.kq)("",!0),(0,a.Wm)(d)]),(0,a.Wm)(v,{"active-index":i.currentPhaseIndex,"onUpdate:active-index":t[3]||(t[3]=function(e){return i.currentPhaseIndex=e})},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.Store.phases,(function(t){return(0,a.wg)(),(0,a.j4)(p,{key:t.name,header:t.name},{default:(0,a.w5)((function(){return[(0,a._)("h3",Ie,(0,c.zw)(e.$t("DesiredOutcomes"))+":",1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.Store.patient.goals,(function(e){return(0,a.wg)(),(0,a.iD)("div",{key:e.name},(0,c.zw)(o.Store.labels[e.name])+" : "+(0,c.zw)(e.selected.name),1)})),128)),(0,a._)("h3",Le,(0,c.zw)(e.$t("Interventions"))+":",1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.Store.patient.targets,(function(e){return(0,a.wg)(),(0,a.iD)("div",{key:e.name},(0,c.zw)(o.Store.labels[e.name]),1)})),128))]})),_:2},1032,["header"])})),128)),((0,a.wg)(),(0,a.j4)(p,{header:"custom",key:null},{default:(0,a.w5)((function(){return[(0,a._)("h3",Re,(0,c.zw)(e.$t("DesiredOutcomes"))+":",1),null==o.Store.selectedConfig?((0,a.wg)(),(0,a.j4)(f,{key:0,title:"Desired Outcomes",changeable:!0,hideHeader:!0,selection:o.Store.patient.goals,onAddNodes:t[1]||(t[1]=function(e){return o.Store.addGoals(e)}),onDeleteNode:t[2]||(t[2]=function(e){return o.Store.deleteGoal(e)})},null,8,["selection"])):((0,a.wg)(),(0,a.iD)("div",Ve,[(0,a.Wm)(h,{title:"Desired Outcomes",name2:o.Store.selectedConfig.name,selection:o.Store.patient.goals,selection2:o.Store.selectedConfig.config.patient.goals,changeable:!1},null,8,["name2","selection","selection2"])])),(0,a._)("div",null,[(0,a._)("h3",He,(0,c.zw)(e.$t("Interventions"))+":",1),(0,a.Wm)(m),o.Store.selectedConfig?((0,a.wg)(),(0,a.iD)("div",Be,[(0,a._)("h3",null,(0,c.zw)(o.Store.selectedConfig.name)+":",1),o.Store.selectedConfig.config.options.selectedOption?((0,a.wg)(),(0,a.iD)("div",Fe,[(0,a._)("div",Ze,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(o.Store.selectedConfig.config.options.selectedOption.option),(function(e){return(0,a.wg)(),(0,a.iD)("div",{key:e},(0,c.zw)(o.Store.labels[e])+": "+(0,c.zw)(o.Store.selectedConfig.config.options.selectedOption.option[e]),1)})),128))]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(o.Store.selectedConfig.config.newGoals),(function(e){return(0,a.wg)(),(0,a.iD)("div",{class:"flex justify-content-center",field:e,header:e,key:e},[(0,a._)("div",Ge,(0,c.zw)(e),1),(0,a._)("div",Ke,[(0,a.wy)((0,a.Wm)(g,{value:o.Store.selectedConfig.config.options.selectedOption.goalValues[String(e)],color:"teal",width:"200"},null,8,["value"]),[[k,100*o.Store.selectedConfig.config.options.selectedOption.goalValues[String(e)].toFixed(2)+"%"]])])],8,Ae)})),128))])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])]})),_:1}))]})),_:1},8,["active-index"])]})),_:1})]})),_:1})}var Ye=function(e){return(0,a.dD)("data-v-b15f6116"),e=e(),(0,a.Cn)(),e},Me={style:{position:"relative"}},Je={key:0},Qe={class:"text-center rowContent"},Xe={key:1},et=(0,a.Uk)(" current: "),tt=Ye((function(){return(0,a._)("br",null,null,-1)})),nt={key:0,class:"pi pi-check"};function ot(e,t,n,o,i,r){var l=(0,a.up)("Button"),s=(0,a.up)("Listbox"),u=(0,a.up)("Dialog");return(0,a.wg)(),(0,a.iD)("div",Me,[null==o.Store.selectedConfig?((0,a.wg)(),(0,a.iD)("div",Je,[(0,a.Wm)(s,{options:o.Store.patient.targets,optionLabel:e.name,listStyle:"max-height:300px",emptyMessage:" "},{option:(0,a.w5)((function(e){return[(0,a._)("div",Qe,[(0,a.Uk)((0,c.zw)(o.Store.labels[e.option.name])+" ",1),(0,a.Wm)(l,{icon:"pi pi-times",class:"p-button-rounded p-button-secondary p-button-text xButton",onClick:function(t){return r.deleteNode(e.option)}},null,8,["onClick"])])]})),_:1},8,["options","optionLabel"]),(0,a.Wm)(l,{id:"AddButton",label:e.$t("addTarget"),class:"p-button-secondary",onClick:t[0]||(t[0]=function(e){return i.overlay=!0})},null,8,["label"])])):((0,a.wg)(),(0,a.iD)("div",Xe,[et,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.Store.patient.targets,(function(e){return(0,a.wg)(),(0,a.iD)("span",{key:e},(0,c.zw)(e.name)+", ",1)})),128)),tt,(0,a.Uk)(" "+(0,c.zw)(o.Store.selectedConfig.name)+": ",1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.Store.selectedConfig.config.patient.targets,(function(e){return(0,a.wg)(),(0,a.iD)("span",{key:e},(0,c.zw)(e.name)+", ",1)})),128))])),(0,a.Wm)(u,{header:"  ",visible:i.overlay,"onUpdate:visible":t[2]||(t[2]=function(e){return i.overlay=e}),style:{width:"80%",height:"90%",background:"white"},modal:!0,onHide:t[3]||(t[3]=function(e){return r.addTargetsFromOverlay()})},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{modelValue:i.selected,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.selected=e}),class:"t-2",options:r.overlayNodes,optionLabel:"name",emptyMessage:"",multiple:!0,filter:!0,filterPlaceholder:"Search"},{option:(0,a.w5)((function(e){return[i.selected&&i.selected.find((function(t){return t.name===e.option.name}))?((0,a.wg)(),(0,a.iD)("i",nt)):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,c.zw)(o.Store.labels[e.option.name]),1)]})),_:1},8,["modelValue","options"])]})),_:1},8,["visible"])])}var at={name:"therapy-input",setup:function(){var e=j();return{Store:e}},data:function(){return{selected:null,overlay:!1}},computed:{overlayNodes:function(){var e=this;return null!=this.Store.currentPhase?this.Store.patient.nodes.filter((function(t){return e.Store.currentPhase.sets.target.includes(t.name)})):this.Store.patient.nodes}},methods:{addTargetsFromOverlay:function(){null!=this.selected&&this.Store.addTargets(this.selected),this.selected=[],this.overlay=!1},deleteNode:function(e){this.Store.deleteTarget(e)}}};const it=(0,y.Z)(at,[["render",ot],["__scopeId","data-v-b15f6116"]]);var rt=it,lt=function(e){return(0,a.dD)("data-v-5e731088"),e=e(),(0,a.Cn)(),e},st={key:0},ut={key:0},ct=lt((function(){return(0,a._)("b",null,"overall",-1)})),dt=[ct],pt={key:0,class:"pi pi-thumbs-up",name:"star"},ft={key:0,style:{fontSize:"1.5rem"}};function ht(e,t,n,o,i,r){var l=(0,a.up)("Column"),s=(0,a.up)("bar"),u=(0,a.up)("Button"),d=(0,a.up)("DataTable"),p=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.j4)(d,{value:o.Store.options.options,class:"p-datatable-sm",autoLayout:!0,rowClass:r.rowClass,dataKey:r.getOptionLabel(e.option),selectionMode:"single",selection:o.Store.options.selectedOption,"onUpdate:selection":t[0]||(t[0]=function(e){return o.Store.options.selectedOption=e}),onRowSelect:r.update,onRowUnselect:r.update},{default:(0,a.w5)((function(){return[(0,a.Wm)(l,null,{body:(0,a.w5)((function(e){return[e.index>0?((0,a.wg)(),(0,a.iD)("div",st,(0,c.zw)(e.index)+". ",1)):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(l,{field:"option"},{body:(0,a.w5)((function(e){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(e.data.option),(function(t){return(0,a.wg)(),(0,a.iD)("div",{key:t},(0,c.zw)(o.Store.labels[t])+": "+(0,c.zw)(e.data.option[t]),1)})),128)),0===e.index?((0,a.wg)(),(0,a.iD)("div",ut,dt)):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(l,null,{body:(0,a.w5)((function(t){return[1===t.index?(0,a.wy)(((0,a.wg)(),(0,a.iD)("i",pt,null,512)),[[p,e.$t("BestOption")]]):(0,a.kq)("",!0)]})),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.getGoalKeys(),(function(e){return(0,a.wg)(),(0,a.j4)(l,{field:e,header:r.getGoalLabel(e),key:e},{body:(0,a.w5)((function(t){return[(0,a.wy)((0,a.Wm)(s,{value:t.data.goalValues[String(e)],color:"teal",width:"200"},null,8,["value"]),[[p,(100*t.data.goalValues[String(e)]).toFixed(0)+"%"]]),t.data===o.Store.options.selectedOption?((0,a.wg)(),(0,a.iD)("div",ft,(0,c.zw)((100*t.data.goalValues[String(e)]).toFixed(0))+" % ",1)):(0,a.kq)("",!0)]})),_:2},1032,["field","header"])})),128)),(0,a.Wm)(l,null,{body:(0,a.w5)((function(e){return[e.data===o.Store.options.selectedOption?((0,a.wg)(),(0,a.j4)(u,{key:0,class:"p-button-secondary p-button-text p-button-rounded",icon:"pi pi-times",onClick:r.deselect},null,8,["onClick"])):(0,a.kq)("",!0)]})),_:1})]})),_:1},8,["value","rowClass","dataKey","selection","onRowSelect","onRowUnselect"])}var mt={name:"options-table",components:{bar:ne},setup:function(){var e=j();return{Store:e}},methods:{getGoalKeys:function(){if(null!=this.Store.newGoals)return Object.keys(this.Store.newGoals)},getOptionLabel:function(e){if(null==e)return null;var t="";return Object.keys(e).forEach((function(n){t=t+n+": "+e[n]+"; "})),t},update:function(){this.Store.options.selectedOption===[]?this.Store.explain.relevance=null:this.Store.calculateOption()},getGoalLabel:function(e){return this.Store.labels[e]+": "+this.Store.newGoals[e]},deselect:function(){this.Store.options.selectedOption=this.Store.options.likelyResult[0],this.update()},rowClass:function(e){return 0===Object.keys(e.option).length?"overall":null}}};const gt=(0,y.Z)(mt,[["render",ht],["__scopeId","data-v-5e731088"]]);var vt=gt,wt=function(e){return(0,a.dD)("data-v-263d5622"),e=e(),(0,a.Cn)(),e},bt={class:"p-input-icon-left"},kt=wt((function(){return(0,a._)("i",{class:"pi pi-search"},null,-1)})),yt={class:"flex justify-content-between"},St={class:"p-input-icon-right",style:{width:"100%"}},xt=wt((function(){return(0,a._)("i",{class:"pi pi-search"},null,-1)})),Nt={key:1};function Ct(e,t,n,o,i,r){var l=(0,a.up)("InputText"),s=(0,a.up)("Column"),u=(0,a.up)("Dropdown"),d=(0,a.up)("Button"),p=(0,a.up)("DataTable"),f=(0,a.up)("ToggleButton"),h=(0,a.up)("Dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(p,{class:(0,c.C_)([{NoHeader:n.hideHeader},"p-datatable-sm"]),id:"table",value:n.selection},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{field:"name",style:{padding:"0",border:"0"}},(0,a.Nv)({body:(0,a.w5)((function(e){return[(0,a.Uk)((0,c.zw)(o.Store.labels[e.data.name]),1)]})),_:2},["Evidence"===n.title?{name:"header",fn:(0,a.w5)((function(){return[(0,a._)("span",bt,[kt,(0,a.Wm)(l,{modelValue:i.filters["name"].name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.filters["name"].name=e}),placeholder:"Search...",style:{width:"200%"}},null,8,["modelValue"])])]}))}:void 0]),1024),(0,a.Wm)(s,{field:"value",class:"optionCol"},(0,a.Nv)({_:2},[n.changeable?{name:"body",fn:(0,a.w5)((function(e){return[(0,a.Wm)(u,{modelValue:e.data.selected,"onUpdate:modelValue":function(t){return e.data.selected=t},options:e.data.options,optionLabel:"name",placeholder:"slotProps.data.selected",onChange:function(t){return r.onNodeChange(e.data)},class:"p-0 m-0"},null,8,["modelValue","onUpdate:modelValue","options","onChange"]),(0,a.Wm)(d,{icon:"pi pi-times",class:"p-button-rounded p-button-secondary p-button-text p-button-sm p-0 m-0",onClick:function(t){return r.deleteNode(e.data)}},null,8,["onClick"])]}))}:{name:"body",fn:(0,a.w5)((function(e){return[(0,a.Uk)((0,c.zw)(o.Store.labels[e.data.selected.name]),1)]}))}]),1024)]})),_:1},8,["class","value"]),n.changeable?((0,a.wg)(),(0,a.j4)(h,{key:0,header:"  ",visible:i.overlay,"onUpdate:visible":t[3]||(t[3]=function(e){return i.overlay=e}),style:{width:"80%",height:"90%",background:"white"},modal:!0,onHide:t[4]||(t[4]=function(e){return r.addNodesFromOverlay()})},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{value:r.overlayNodes,class:"p-datatable-sm",filters:i.filters,"onUpdate:filters":t[2]||(t[2]=function(e){return i.filters=e}),filterDisplay:"menu","data-key":"name"},{header:(0,a.w5)((function(){return[(0,a._)("div",yt,[(0,a._)("span",St,[(0,a.Wm)(l,{style:{width:"100%"},modelValue:i.filters["name"].value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.filters["name"].value=e}),placeholder:"Search"},null,8,["modelValue"]),xt])])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(s,{field:"name",header:e.$t("Node")},{body:(0,a.w5)((function(e){return[(0,a.Uk)((0,c.zw)(o.Store.labels[e.data.name]),1)]})),_:1},8,["header"]),(0,a.Wm)(s,{field:"options"},{body:(0,a.w5)((function(e){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.options,(function(t){return(0,a.wg)(),(0,a.j4)(f,{class:"m-2",key:t,modelValue:t.checked,"onUpdate:modelValue":function(e){return t.checked=e},onChange:function(n){return r.onOverlayOptionChange(e,t)},onLabel:t.name,onIcon:"pi pi-check",offLabel:t.name,offIcon:"pi pi-plus"},null,8,["modelValue","onUpdate:modelValue","onChange","onLabel","offLabel"])})),128))]})),_:1})]})),_:1},8,["value","filters"])]})),_:1},8,["visible"])):(0,a.kq)("",!0),n.changeable?((0,a.wg)(),(0,a.iD)("div",Nt,["Evidence"===n.title?((0,a.wg)(),(0,a.j4)(d,{key:0,class:"addButton",onClick:t[5]||(t[5]=function(e){return i.overlay=!0}),label:e.$t("addEvidence")},null,8,["label"])):((0,a.wg)(),(0,a.j4)(d,{key:1,class:"addButton p-button-secondary",onClick:t[6]||(t[6]=function(e){return i.overlay=!0}),label:e.$t("addOutcome")},null,8,["label"]))])):(0,a.kq)("",!0)],64)}var _t={name:"node-input",emits:["addNodes","deleteNode"],props:["title","selection","changeable","hideHeader"],setup:function(){var e=j();return{Store:e}},data:function(){return{overlay:!1,selected:null,filters:{name:{value:null,matchMode:L.a6.STARTS_WITH}},nodesToAdd:[]}},computed:{overlayNodes:function(){var e=this,t=this.Store.patient.nodes;return null!==this.Store.currentPhase&&("Evidence"===this.title||(t=t.filter((function(t){return e.Store.currentPhase.sets.goal.map((function(e){return e.name})).includes(t.name)})))),t.map((function(t){return{name:t.name,options:t.options.map((function(n){return{name:n.name,checked:null!=e.nodesToAdd.find((function(e){return e.name===t.name&&e.selected.name===n.name}))}}))}}))}},methods:{onOverlayOptionChange:function(e,t){if(this.nodesToAdd=this.nodesToAdd.filter((function(t){return t.name!==e.data.name})),this.filters.name.value=null,t.checked){var n={name:e.data.name,selected:{name:t.name},options:e.data.options.map((function(e){return{name:e.name}}))};this.nodesToAdd.push(n)}},addNodesFromOverlay:function(){this.$emit("addNodes",this.nodesToAdd),this.nodesToAdd=[],this.overlay=!1},deleteNode:function(e){this.$emit("deleteNode",e)},deleteNodeFromOverlay:function(e){this.nodesToAdd=this.nodesToAdd.filter((function(t){return t!==e}))},onNodeChange:function(e){this.$emit("addNodes",[e])}}};const Tt=(0,y.Z)(_t,[["render",Ct],["__scopeId","data-v-263d5622"]]);var zt=Tt,Dt=function(e){return(0,a.dD)("data-v-421b2edf"),e=e(),(0,a.Cn)(),e},Ot={key:0},$t={key:1},Wt={key:0},Et={key:1},jt={class:"flex justify-content-between"},Pt={class:"p-input-icon-right",style:{width:"100%"}},Ut=Dt((function(){return(0,a._)("i",{class:"pi pi-search"},null,-1)})),It=Dt((function(){return(0,a._)("i",{class:"pi pi-plus"},null,-1)}));function Lt(e,t,n,o,i,r){var l=(0,a.up)("Column"),s=(0,a.up)("Dropdown"),u=(0,a.up)("Button"),d=(0,a.up)("DataTable"),p=(0,a.up)("Listbox"),f=(0,a.up)("InputText"),h=(0,a.up)("Dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d,{id:"table",value:r.table,class:"p-datatable-sm"},{default:(0,a.w5)((function(){return[(0,a.Wm)(l,{field:"name",style:{padding:"0",border:"0"}},{body:(0,a.w5)((function(e){return[(0,a.Uk)((0,c.zw)(o.Store.labels[e.data.name]),1)]})),_:1}),(0,a.Wm)(l,{field:"value",header:"current",class:"optionCol"},(0,a.Nv)({_:2},[n.changeable?{name:"body",fn:(0,a.w5)((function(e){return[""===e.data.selected?((0,a.wg)(),(0,a.iD)("div",Ot)):((0,a.wg)(),(0,a.iD)("div",$t,[(0,a.Wm)(s,{modelValue:e.data.selected,"onUpdate:modelValue":function(t){return e.data.selected=t},options:e.data.options,optionLabel:"name",placeholder:"slotProps.data.selected",onChange:function(t){return r.onNodeChange(e.data)}},null,8,["modelValue","onUpdate:modelValue","options","onChange"]),(0,a.Wm)(u,{icon:"pi pi-times",class:"p-button-rounded p-button-secondary p-button-text",onClick:function(t){return r.deleteNode(e.data)}},null,8,["onClick"])]))]}))}:{name:"body",fn:(0,a.w5)((function(e){return[""===e.data.selected?((0,a.wg)(),(0,a.iD)("div",{key:0})):((0,a.wg)(),(0,a.iD)("div",{key:1},(0,c.zw)(e.data.selected.name),1))]}))}]),1024),(0,a.Wm)(l,{field:"value2",class:"optionCol",header:n.name2},{body:(0,a.w5)((function(e){return[""===e.data.selected2?((0,a.wg)(),(0,a.iD)("div",Wt)):((0,a.wg)(),(0,a.iD)("div",Et,(0,c.zw)(e.data.selected2.name),1))]})),_:1},8,["header"])]})),_:1},8,["value"]),n.changeable?((0,a.wg)(),(0,a.j4)(h,{key:0,header:"Add "+n.title,visible:i.overlay,"onUpdate:visible":t[4]||(t[4]=function(e){return i.overlay=e}),style:{width:"50%"},modal:!0},{default:(0,a.w5)((function(){return[(0,a.Wm)(u,{class:"mb-1",label:"Add "+n.title,style:{width:"100%"},onClick:t[0]||(t[0]=function(e){return r.addNodesFromOverlay()})},null,8,["label"]),(0,a.Wm)(p,{modelValue:i.selected,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.selected=e}),options:i.nodesToAdd,optionLabel:"name",emptyMessage:"choose evidences to add"},{option:(0,a.w5)((function(e){return[(0,a._)("div",null,[(0,a.Uk)((0,c.zw)(e.option.name)+": "+(0,c.zw)(e.option.selected.name)+" ",1),(0,a.Wm)(u,{icon:"pi pi-times",class:"p-button-rounded p-button-secondary p-button-text xButton",onClick:function(t){return r.deleteNodeFromOverlay(e.option)}},null,8,["onClick"])])]})),_:1},8,["modelValue","options"]),(0,a.Wm)(d,{value:r.overlayNodes,scrollable:!0,scrollHeight:"500px",filters:i.filters,"onUpdate:filters":t[3]||(t[3]=function(e){return i.filters=e}),filterDisplay:"menu","data-key":"name"},{header:(0,a.w5)((function(){return[(0,a._)("div",jt,[(0,a._)("span",Pt,[(0,a.Wm)(f,{style:{width:"100%"},modelValue:i.filters["name"].value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.filters["name"].value=e}),placeholder:"Search"},null,8,["modelValue"]),Ut])])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(l,{field:"name",header:n.title},null,8,["header"]),(0,a.Wm)(l,{field:"options"},{body:(0,a.w5)((function(e){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.options,(function(t){return(0,a.wg)(),(0,a.j4)(u,{class:"m-2",key:t,onClick:function(n){return r.addOption(e,t)}},{default:(0,a.w5)((function(){return[It,(0,a.Uk)(" Â  "+(0,c.zw)(t.name),1)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1},8,["value","filters"])]})),_:1},8,["header","visible"])):(0,a.kq)("",!0),n.changeable?((0,a.wg)(),(0,a.j4)(u,{key:1,id:"addButton",icon:"pi pi-plus",onClick:t[5]||(t[5]=function(e){return i.overlay=!0})})):(0,a.kq)("",!0)],64)}var Rt={name:"node-input-compare",emits:["addNodes","deleteNode"],props:["title","selection","changeable","selection2","name2"],setup:function(){var e=j();return{Store:e}},data:function(){return{overlay:!1,selected:null,filters:{name:{value:null,matchMode:L.a6.STARTS_WITH}},nodesToAdd:[]}},computed:{overlayNodes:function(){var e=this;return this.Store.patient.nodes.filter((function(t){return null==e.nodesToAdd.find((function(e){return e.name===t.name}))}))},table:function(){var e=JSON.parse(JSON.stringify(this.selection));return e.forEach((function(e){return e.selected2=""})),this.selection2.forEach((function(t){var n=e.find((function(e){return e.name===t.name}));null==n?e.push({name:t.name,selected:"",selected2:t.selected,options:t.options}):n.selected2=t.selected})),e}},methods:{addOption:function(e,t){var n={name:e.data.name,selected:{name:t.name},options:e.data.options};this.nodesToAdd.push(n),this.filters.name.value=null},addNodesFromOverlay:function(){this.$emit("addNodes",this.nodesToAdd),this.nodesToAdd=[],this.overlay=!1},deleteNode:function(e){this.$emit("deleteNode",e)},deleteNodeFromOverlay:function(e){this.nodesToAdd=this.nodesToAdd.filter((function(t){return t!==e}))},onNodeChange:function(e){this.$emit("addNodes",[e])}}};const Vt=(0,y.Z)(Rt,[["render",Lt],["__scopeId","data-v-421b2edf"]]);var Ht=Vt,Bt={name:"therapy-options",emits:["update"],components:{TherapyInput:rt,optionsTable:vt,bar:ne,NodeInput:zt,NodeInputCompare:Ht},setup:function(){var e=j();return{Store:e}},data:function(){return{showLocal:!1,currentPhaseIndex:0}},watch:{currentPhaseIndex:function(){this.currentPhaseIndex===this.Store.phases.length?this.Store.currentPhase=null:(this.Store.currentPhase=this.Store.phases[this.currentPhaseIndex],this.Store.phase_change())}},methods:{getGoalForSummary:function(){var e=this;if(null!=this.Store.newGoals&&null!=this.Store.options.selectedOption){var t=[];return Object.keys(this.Store.newGoals).forEach((function(n){var o=100*e.Store.options.selectedOption.goalValues[n];t.push(e.Store.labels[n]+" - "+e.Store.newGoals[n]+": "+o.toFixed(0)+"%")})),t}}}};const Ft=(0,y.Z)(Bt,[["render",qe],["__scopeId","data-v-9e8c6e90"]]);var Zt=Ft;function At(e,t,n,o,i,r){var l=(0,a.up)("Button"),s=(0,a.up)("OverlayPanel"),u=(0,a.up)("NodeInput"),d=(0,a.up)("NodeInputCompare"),p=(0,a.up)("ScrollPanel"),f=(0,a.up)("Card");return(0,a.wg)(),(0,a.j4)(f,{style:{position:"relative"},class:"Evidence"},{title:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("Evidence"))+" ",1),(0,a.Wm)(l,{icon:"pi pi-question",class:"p-button-text p-button-secondary p-button-rounded p-button-raised help",onClick:t[0]||(t[0]=function(t){return e.$refs.op.toggle(t)})}),(0,a.Wm)(s,{ref:"op",style:{width:"500px"}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("EvidenceHelp")),1)]})),_:1},512)]})),content:(0,a.w5)((function(){return[(0,a.Wm)(p,{style:{height:"100%"}},{default:(0,a.w5)((function(){return[null==o.Store.selectedConfig?((0,a.wg)(),(0,a.j4)(u,{key:0,title:"Evidence",changeable:!0,selection:o.Store.patient.evidence,onAddNodes:t[1]||(t[1]=function(e){return o.Store.addEvidences(e)}),onDeleteNode:t[2]||(t[2]=function(e){return o.Store.deleteEvidence(e)})},null,8,["selection"])):((0,a.wg)(),(0,a.j4)(d,{key:1,title:"Evidence",name2:o.Store.selectedConfig.name,selection:o.Store.patient.evidence,selection2:o.Store.selectedConfig.config.patient.evidence,changeable:!1},null,8,["name2","selection","selection2"]))]})),_:1})]})),_:1})}var Gt={name:"evidence-input",components:{NodeInput:zt,NodeInputCompare:Ht},setup:function(){var e=j();return{Store:e}}};const Kt=(0,y.Z)(Gt,[["render",At],["__scopeId","data-v-196b5f4d"]]);var qt=Kt,Yt=(0,a._)("br",null,null,-1),Mt=(0,a._)("br",null,null,-1),Jt=(0,a.Uk)(),Qt=(0,a._)("br",null,null,-1);function Xt(e,t,n,o,i,r){var l=(0,a.up)("Button"),s=(0,a.up)("Dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[0===i.i?((0,a.wg)(),(0,a.j4)(s,{key:0,visible:i.display,"onUpdate:visible":t[0]||(t[0]=function(e){return i.display=e}),position:"bottom",header:e.$t("DesiredOutcomes"),closable:!1,style:{width:"80%"}},{footer:(0,a.w5)((function(){return[(0,a.Wm)(l,{class:"mx-2 p-button-secondary",icon:"pi pi-times",label:e.$t("close"),onClick:r.close},null,8,["label","onClick"]),(0,a.Wm)(l,{class:"mx-2",label:e.$t("next"),onClick:r.next},null,8,["label","onClick"])]})),default:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("Tutorial1a"))+" ",1),Yt,(0,a.Uk)(" "+(0,c.zw)(e.$t("Tutorial1b"))+" ",1)]})),_:1},8,["visible","header"])):(0,a.kq)("",!0),1===i.i?((0,a.wg)(),(0,a.j4)(s,{key:1,visible:i.display,"onUpdate:visible":t[1]||(t[1]=function(e){return i.display=e}),position:"bottom",header:e.$t("Evidence"),closable:!1,style:{width:"80%"}},{footer:(0,a.w5)((function(){return[(0,a.Wm)(l,{class:"mx-2 p-button-secondary",icon:"pi pi-times",label:e.$t("close"),onClick:r.close},null,8,["label","onClick"]),(0,a.Wm)(l,{class:"mx-2",label:e.$t("prev"),onClick:r.prev},null,8,["label","onClick"]),(0,a.Wm)(l,{class:"mx-2",label:e.$t("next"),onClick:r.next},null,8,["label","onClick"])]})),default:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("Tutorial2"))+" ",1)]})),_:1},8,["visible","header"])):(0,a.kq)("",!0),2===i.i?((0,a.wg)(),(0,a.j4)(s,{key:2,visible:i.display,"onUpdate:visible":t[2]||(t[2]=function(e){return i.display=e}),position:"bottom",header:e.$t("Treatment"),closable:!1,style:{width:"80%"}},{footer:(0,a.w5)((function(){return[(0,a.Wm)(l,{class:"mx-2 p-button-secondary",icon:"pi pi-times",label:e.$t("close"),onClick:r.close},null,8,["label","onClick"]),(0,a.Wm)(l,{class:"mx-2",label:e.$t("prev"),onClick:r.prev},null,8,["label","onClick"]),(0,a.Wm)(l,{class:"mx-2",label:e.$t("next"),onClick:r.next},null,8,["label","onClick"])]})),default:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("Tutorial3a"))+" ",1),Mt,Jt,Qt,(0,a.Uk)(" "+(0,c.zw)(e.$t("Tutorial3b"))+" ",1)]})),_:1},8,["visible","header"])):(0,a.kq)("",!0),3===i.i?((0,a.wg)(),(0,a.j4)(s,{key:3,visible:i.display,"onUpdate:visible":t[3]||(t[3]=function(e){return i.display=e}),position:"bottom",header:e.$t("Explanation"),closable:!1,style:{width:"80%"}},{footer:(0,a.w5)((function(){return[(0,a.Wm)(l,{class:"mx-2",label:e.$t("prev"),onClick:r.prev},null,8,["label","onClick"]),(0,a.Wm)(l,{class:"mx-2",label:e.$t("finish"),onClick:r.next},null,8,["label","onClick"])]})),default:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("Tutorial4"))+" ",1)]})),_:1},8,["visible","header"])):(0,a.kq)("",!0)],64)}var en={name:"page-tutorial",emits:["setBlock"],data:function(){return{display:!1,i:0}},setup:function(){var e=j();return{Store:e}},mounted:function(){this.start()},watch:{showTutorial:function(){!0===this.Store.showTutorial&&this.start()}},computed:{showTutorial:function(){return this.Store.showTutorial}},methods:{start:function(){this.display=!0,this.i=0,this.sendBlock()},close:function(){this.i=4,this.sendBlock()},prev:function(){0===this.i?this.i=3:this.i--,this.sendBlock()},next:function(){this.i++,this.sendBlock()},sendBlock:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={goals:0!==e.i&&4!==e.i,evidence:1!==e.i&&4!==e.i,options:2!==e.i&&4!==e.i,explain:3!==e.i&&4!==e.i},4===e.i&&(e.Store.showTutorial=!1,e.display=!1),e.$emit("setBlock",n);case 3:case"end":return t.stop()}}),t)})))()}}};const tn=(0,y.Z)(en,[["render",Xt]]);var nn=tn,on={name:"page-interface",emits:["changePage"],components:{Header:H,Explanation:Ee,Therapy:Zt,EvidenceInput:qt,tutorial:nn},props:["network","localNet"],setup:function(){var e=j();return{Store:e}},data:function(){return{block:{goals:!1,evidence:!0,options:!0,explain:!0}}},methods:{changePage:function(){this.$emit("changePage")}},created:function(){var e=(0,u.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.Store.network=this.network,this.Store.localNet=this.localNet,e.next=4,this.Store.loadNodes();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()};const an=(0,y.Z)(on,[["render",s],["__scopeId","data-v-31db6cf6"]]);var rn=an,ln=function(e){return(0,a.dD)("data-v-3c5759a0"),e=e(),(0,a.Cn)(),e},sn={class:"grid p-nested-grid flex-column mx-1"},un=ln((function(){return(0,a._)("div",{id:"logo"},[(0,a._)("img",{src:d,style:{height:"100px"}})],-1)})),cn={class:"col grid vertical-container",style:{height:"100%"}},dn={class:"col stretched"},pn={class:"col stretched"},fn=ln((function(){return(0,a._)("br",null,null,-1)})),hn=(0,a.Uk)(),mn=ln((function(){return(0,a._)("br",null,null,-1)})),gn=ln((function(){return(0,a._)("div",{class:"text-left"},"FAQ",-1)})),vn=(0,a.Uk)(" DoctorBN is a tool to use Bayesian networks in clinical decision support. Bayesian networks provide a knowledge base about a specific topic. The clinician can insert data about his current patient and what he wants to achieve. DoctorBN will then provide information on what the network thinks would be the best treatment for the patient, to achieve these goals. "),wn=ln((function(){return(0,a._)("br",null,null,-1)})),bn=(0,a.Uk)(),kn=ln((function(){return(0,a._)("br",null,null,-1)})),yn=(0,a.Uk)(" DoctorBN is currently in development, feedback is welcome and appreciated! The best way to reach us is through the person that sent you the link to this website. "),Sn=(0,a.Uk)(" Bayesian networks are a type of artificial intelligence that is especially equipped to handle probabilities. In clinical decision support, Bayesian networks can provide clinicians with a second opinion which intervention would be the best option for their patient. "),xn=(0,a.Uk)(" DoctorBN is the bachelor project of Alex Mo and Anna Kleinau. "),Nn=(0,a.Uk)(" Choose language: ");function Cn(e,t,n,o,i,r){var l=(0,a.up)("Dropdown"),s=(0,a.up)("Card"),u=(0,a.up)("Networklist"),d=(0,a.up)("Upload"),p=(0,a.up)("AccordionTab"),f=(0,a.up)("Accordion"),h=(0,a.up)("Listbox"),m=(0,a.up)("Dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",sn,[(0,a.Wm)(s,{class:"col"},{content:(0,a.w5)((function(){return[un,((0,a.wg)(),(0,a.j4)(l,{modelValue:e.$i18n.locale,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$i18n.locale=t}),options:e.$i18n.availableLocales,key:"locale-".concat(e.$i18n.locale),value:e.$i18n.locale,style:{position:"absolute",right:"5%",top:"5%"}},null,8,["modelValue","options","value"]))]})),_:1}),(0,a._)("div",cn,[(0,a._)("div",dn,[(0,a.Wm)(s,{class:"stretched"},{title:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("selectNetwork")),1)]})),content:(0,a.w5)((function(){return[(0,a.Wm)(u,{ref:"netList",onUpdated:t[1]||(t[1]=function(t){return e.$forceUpdate()}),onChangePage:r.changePage},null,8,["onChangePage"])]})),_:1})]),(0,a._)("div",pn,[(0,a.Wm)(s,{class:"stretched"},{title:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("uploadNetwork")),1)]})),content:(0,a.w5)((function(){return[(0,a.Wm)(d,{ref:"uploadField",onReloadNetList:t[2]||(t[2]=function(t){return e.$refs.netList.loadNetList()}),onLoadLocalNet:t[3]||(t[3]=function(e){return r.loadLocalNet(e)})},null,512),fn,hn,mn]})),_:1})])]),(0,a.Wm)(s,{class:"col"},{title:(0,a.w5)((function(){return[gn]})),content:(0,a.w5)((function(){return[(0,a.Wm)(f,{class:"text-left"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{header:"What is DoctorBN?"},{default:(0,a.w5)((function(){return[vn,wn,bn,kn,yn]})),_:1}),(0,a.Wm)(p,{header:"What are Bayesian networks?"},{default:(0,a.w5)((function(){return[Sn]})),_:1}),(0,a.Wm)(p,{header:"Who is the team behind DoctorBN?"},{default:(0,a.w5)((function(){return[xn]})),_:1})]})),_:1})]})),_:1})]),(0,a.Wm)(m,{visible:i.langOverlay,"onUpdate:visible":t[5]||(t[5]=function(e){return i.langOverlay=e}),modal:!0,dismissableMask:!0},{default:(0,a.w5)((function(){return[Nn,((0,a.wg)(),(0,a.j4)(h,{modelValue:e.$i18n.locale,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.$i18n.locale=t}),options:e.$i18n.availableLocales,key:"locale-".concat(e.$i18n.locale),value:e.$i18n.locale},null,8,["modelValue","options","value"]))]})),_:1},8,["visible"])],64)}var _n=(0,a._)("br",null,null,-1),Tn={key:0,class:"flex justify-content-between"},zn=(0,a._)("br",null,null,-1),Dn=(0,a._)("br",null,null,-1);function On(e,t,n,i,r,l){var s=(0,a.up)("FileUpload"),u=(0,a.up)("InputText"),d=(0,a.up)("Textarea"),p=(0,a.up)("Checkbox"),f=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)((function(){return l.upload&&l.upload.apply(l,arguments)}),["prevent"])),id:"upload-form",enctype:"multipart/form-data"},[(0,a.Wm)(s,{name:"net-upload",url:"./upload",accept:".net, .bif",customUpload:!0,chooseLabel:e.$t("Choose"),auto:!0,showUploadButton:!1,onUploader:t[0]||(t[0]=function(e){return r.file=e.files}),showCancelButton:!1,required:""},null,8,["chooseLabel"]),_n,0!==r.file.length?((0,a.wg)(),(0,a.iD)("div",Tn,[(0,a._)("label",null,[(0,a.Uk)((0,c.zw)(e.$t("NetworkName"))+": ",1),(0,a.Wm)(u,{id:"net-name",type:"text",required:""})]),(0,a._)("label",null,[(0,a.Uk)((0,c.zw)(e.$t("OptDescription"))+": ",1),(0,a.Wm)(d,{id:"net-description"})]),(0,a.Wm)(p,{modelValue:r.uploadToServer,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.uploadToServer=e}),value:!0,disabled:"disabled"},null,8,["modelValue"]),(0,a._)("label",null,(0,c.zw)(e.$t("RequestUpload")),1)])):(0,a.kq)("",!0)],32),zn,Dn,0!==r.file.length?((0,a.wg)(),(0,a.j4)(f,{key:0,name:"net-submit",type:"submit",label:e.$t("UploadNet"),onClick:t[3]||(t[3]=function(e){return l.upload()})},null,8,["label"])):(0,a.kq)("",!0)],64)}var $n={name:"upload-network",emits:["reloadNetList","loadLocalNet"],data:function(){return{file:[],uploadToServer:null}},methods:{upload:function(){var e=(0,u.Z)(regeneratorRuntime.mark((function e(){var t,n,o,a,i,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.getElementById("net-name").value,n=document.getElementById("net-description").value,o=this.file,0===o.length?alert("Error: Please upload a file"):o.length>1?alert("Error: Please only upload one file"):(a=new FileReader,a.readAsText(o[0]),i=o[0].name.split("."),r=i[i.length-1],l=this,a.onload=(0,u.Z)(regeneratorRuntime.mark((function e(){var o,i,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=a.result,console.log(o),i={name:t,description:n,fileFormat:r,fileString:o},l.$emit("loadLocalNet",i),!this.uploadToServer){e.next=12;break}return e.next=7,fetch("https://doctorbn-backend.herokuapp.com/sendNetworkRequest",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:i.name,fileString:i.fileString,fileFormat:i.fileFormat})});case 7:return s=e.sent,e.next=10,s.json();case 10:u=e.sent,console.log(u);case 12:case"end":return e.stop()}}),e,this)}))));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};const Wn=(0,y.Z)($n,[["render",On]]);var En=Wn,jn=(0,a._)("br",null,null,-1);function Pn(e,t,n,i,r,l){var s=(0,a.up)("Listbox"),u=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[1]||(t[1]=(0,o.iM)((function(){return l.openNetwork&&l.openNetwork.apply(l,arguments)}),["prevent"])),method:"POST",id:"selectNetForm",name:"selectNetForm"},[(0,a.Wm)(s,{modelValue:r.selectedNetwork,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.selectedNetwork=e}),ref:"selectMenu",filter:!0,"empty-message":"Loading networks ...",emptyFilterMessage:"No networks found",options:r.networks,"option-label":"name",placeholder:"Select a network",required:""},null,8,["modelValue","options"]),jn,(0,a.Wm)(u,{type:"submit"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,c.zw)(e.$t("openNetwork")),1)]})),_:1})],32)}var Un={name:"load-network-list",emits:["changePage","updated"],data:function(){return{networks:[],selectedNetwork:""}},methods:{openNetwork:function(){var e=(0,u.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("undefined"!=typeof this.$refs.selectMenu.modelValue.name){e.next=3;break}return alert("No network selected"),e.abrupt("return");case 3:t=this.$refs.selectMenu.modelValue.name,this.$emit("changePage",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadNetList:function(){var e=(0,u.Z)(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://doctorbn-backend.herokuapp.com/loadNetList");case 2:return t=e.sent,e.next=5,t.json();case 5:for(o in n=e.sent,this.networks=[],n)this.networks.push({name:n[o]});this.$emit("updated");case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.loadNetList()}};const In=(0,y.Z)(Un,[["render",Pn]]);var Ln=In,Rn={name:"page-choose-net",emits:["changePage","loadLocalNet"],data:function(){return{page:"chooseNet",langOverlay:!1}},components:{Upload:En,Networklist:Ln},mounted:function(){this.langOverlay=!0},methods:{changePage:function(e){this.$emit("changePage",e)},loadLocalNet:function(e){this.$emit("loadLocalNet",e)}}};const Vn=(0,y.Z)(Rn,[["render",Cn],["__scopeId","data-v-3c5759a0"]]);var Hn=Vn,Bn={name:"App",components:{Interface:rn,ChooseNet:Hn},created:function(){document.title="DoctorBN"},data:function(){return{page:"chooseNet",selectedNetwork:null,localNet:null}},methods:{loadNetwork:function(e){this.page="interface",this.selectedNetwork=e,this.localNet=null},loadLocalNet:function(e){this.page="interface",this.selectedNetwork=e.name,this.localNet=e}}};const Fn=(0,y.Z)(Bn,[["render",i]]);var Zn=Fn,An=n(5475),Gn=n(3609),Kn=n(8553),qn=n(7791),Yn=n(1655),Mn=n(445),Jn=n(3236),Qn=n(2971),Xn=n(7615),eo=n(5466),to=n(3561),no=n(2958),oo=n(7151),ao=n(8427),io=n(5247),ro=n(6635),lo=n(3242),so=n(2983),uo=n(5876),co=n(1958),po=n(6076),fo=n(7915),ho=n(8382),mo=n(171),go=n(4152),vo=n(161),wo=n(9667),bo=n(2797),ko=n(1109),yo=n(4325),So=n(1500),xo=n(5369),No=n(6821),Co=n(9516),_o=(0,So.o)({legacy:!1,locale:"en",fallbackLocale:"de",globalInjection:!0,messages:{en:xo,de:No,nl:Co}}),To=(0,o.ri)(Zn);To.use(An.Z).component("Dialog",Gn.Z).component("Button",yo.Z).component("Menubar",Kn.Z).component("Panel",Yn.Z).component("TabView",Mn.Z).component("TabPanel",Jn.Z).component("PanelMenu",Qn.Z).component("Accordion",Xn.Z).component("AccordionTab",eo.Z).component("Listbox",to.Z).component("OverlayPanel",no.Z).component("CascadeSelect",oo.Z).component("DataTable",ao.Z).component("Column",io.Z).component("Dropdown",ro.Z).component("Divider",lo.Z).component("Menu",qn.Z).component("ScrollPanel",so.Z).component("Checkbox",uo.Z).component("Textarea",co.Z).component("InputText",po.Z).component("Card",ho.Z).component("Chip",mo.Z).component("FileUpload",go.Z).component("ProgressBar",vo.Z).component("BlockUI",wo.Z).component("ToggleButton",bo.Z).component("SelectButton",ko.Z).directive("tooltip",fo.Z),To.use((0,E.WB)()),To.use(_o),To.mount("#app")},9516:function(e){e.exports=JSON.parse('{"uploadNetwork":"Laad een nieuw netwerk","selectNetwork":"Kies een netwerk","openNetwork":"open een netwerk","Network":"netwerk","LoadPatient":"laad patient","SavePatient":"bewaar patient","SendFeedback":"stuur feedback","Feedback":"feedback","NetworkDescription":"netwerkbeschrijving","savedConfigurations":"bewaarde configuraties","backToNetwork":"netwerkkeuze","Patient":"patient","Settings":"instellingen ","Reset":"reset","ChangeLanguage":"verander taal","Evidence":"evidentie","EvidenceHelp":"Kies welke variabelen reeds een waarde hebben. Normaal zijn deze variabelen  jou evidentie en dat wat je al over de patient weet, bv zijn symptomen, testresultaten, persoonlijke informatie zoals leeftijf of geslacht.","DesiredOutcomes":"gewenste resultaten","DesiredOutcomesHelp":"Kies de variabelen waarvoor je een spezifieke waarde wil. Dit worden je gewenste resultaten voor de patient. Bv als je will dat de patient overleeft kies je \'ja\' voor het variabele \'overleven\'. Het netwerk zal dan hiermee rekening houden bij zijn berekeningen. ","Treatment":"behandeling","TreatmentHelp":"Doel van dit venster is de beste behandeling voor deze patient te vinden.","Interventions":"interventie","InterventionsHelp":"Je kan verschillende variabelen toevoegen die je wilt veranderen, bv behandeling of medicatie van de patient.","Decision":"beslissing","OutcomeCertainty":"zekerheid van de gewenste resultaten","DecisionRatings":"schattingen van de beslissingen","DecisionRatingHelp":"Het netwerk berekent nu alle mogelijke combinaties van deze variabelen om de beste behandeling te vinden. De beslissiingen zijn gerangschikt volgens hun \'gezamenlijke waarschijnlijkheid\', dit is de waarschijnlijkheid dat alle gewenste resultaten tezamen uitkomen.","TreatmentChooseOne":"Kies een behandeling om bijkomende informatie in het venster \'Uitleg\' te krijgen.","Explanation":"uitleg","ExplanationHelp":"Toont de verschillende soorten uitleg en bijkomende informatie over de gekozen behandeling.","Relevance":"relevantie","localRelevance":"lokale relevantie","RelevanceHelp":"Dit venster toont het belang van alle evidenties en behandelingen voor de gewenste resultaten. Het veranderen van variabelen met een hogere relevantie zal een groter effect hebben op het resultaat dan veranderen van variabelen met een geringere relevantie.","AllPredictions":"alle predicties","AllPredictionsHelp":"Dit venster toont de predicties van het netwerk voor alle variabelen. Bijkomend toont het netwerk ook information over hoe waarschijnlijk die predicties zijn.","CompactNetwork":"compact netwerk","CompactNetworkHelp":"Dit venster toont een compacte vorm van het netwerk, nl enkel de belagrijkste variabelen voor de op dit moment gekozen behandeling.","FullNetwork":"heel netwerk","FullNetworkHelp":"Dit venster toont het hele netwerk met alle knooppunten en verbindingen.","BestOption":"aanbevolen","ShowMore":"toon meer","Node":"Variabele","Tutorial1a":"Een bayesiaans netwerk bestaat uit verschillende variabeles. Hier kun je kiezen voor welke variabelen je een specifieke waarde willt. Dit worden je gewenste resultaten voor de patient.","Tutorial1b":"Bv stel \'overleven\' op \'ja\', \'therapie\' op \'nee\', ...","Tutorial2":"Kies hier welke variabelen reeds een bepaalde waarde hebben. Normaal is dit jou evidentie en dat wat je al over de patient weet.","Tutorial3a":"Kies hier de variabelen die je kan veranderen, bv therapie, medicatie, roken, ...","Tutorial3b":"Het netwerk zal nu de beste combinatie van deze interventies berekenen om je gewenste resultaten te bereiken. Kies dan een interventie voor bijkomende informatie in het venster rechts.","Tutorial4":"Toont  verschillende soorten uitleg en bijkomende informatie over de gekozen optie.","prev":"vorige","next":"volgende","finish":"voltooi","close":"sluit","theNetworkIs":"het voorspelling is","orTheValueIs":"of de waarde is","verySure":"heel waarschijnlijk","lessSure":"minder waarschijnlijk","notSure":"niet waarschijnlijk","given":"voorgegeven","save":"bewaar","compare":"vergelijk","load":"laad","delete":"verwijder","ComparingTo":"vergelijk met","SaveConfig":"bewaar nieuwe configuratie","ErrName":"ERROR: de naam bestaat reeds","FeedbackInfo":"Indien het netwerk een geval niet correct classificeerde, stuur ons aub een bericht.","IncludeConfig":"betrek netwerk configuratie","send":"stuur","name":"naam","NetworkName":"netwerk naam","OptDescription":"beschrijving (optioneel)","UploadNet":"laad netwerk","Prediction":"predictie","Likeliness":"waarschijnlijkheid","Choose":"kies","Cancel":"annuleer","noInterventions":"Geen interventies","positiveInfluence":"positieve invloed","negativeInfluence":"negatieve invloed","noInfluence":"bijna geen invloed","configurationsHelp":"Bewaar, laad en vergelijk configuraties.","goalInfluence":"invloed op doelen:","RequestUpload":"Upload naar server aanvragen","add":"toevoegen","addEvidence":"evidentie toevoegen","addOutcome":"gewenste resultaten toevoegen","addTarget":"interventie toevoegen"}')},5369:function(e){e.exports=JSON.parse('{"uploadNetwork":"Upload network","selectNetwork":"Select network","openNetwork":"Open network","Network":"Network","LoadPatient":"Load Patient","SavePatient":"Save Patient","SendFeedback":"Send Feedback","Feedback":"Feedback","NetworkDescription":"Network description","savedConfigurations":"Saved Configurations","backToNetwork":"Network Selection","Patient":"Patient","Settings":"Settings","Reset":"Reset","ChangeLanguage":"change language","Evidence":"Evidence","EvidenceHelp":"Choose which variables are already set to a value. This will typically be your evidence and what you already know about the patient. Eg symptoms he shows, results of tests and personal information like age and gender.","DesiredOutcomes":"Desired Outcomes","DesiredOutcomesHelp":"Choose which variables you want to have a specific value. This will be your desired outcomes for the patient. For example, if you want the patient to survive, you can choose the \'Survival\' variable and set it to \'yes\'. The network will consider this in it\'s calculations.","Treatment":"Treatment","TreatmentHelp":"This view is intended to find the best treatment for the chosen patient.","Interventions":"Interventions","InterventionsHelp":"You can add different variables that you are willing to change, eg the therapy or medication of the patient.","Decision":"Decision","OutcomeCertainty":"certainty of desired outcomes","DecisionRatings":"Decision ratings","DecisionRatingHelp":"Then, the network calculates all combinations of these variables to find the best treatment decisions. The decisions are rated by their \'joined probability\', which is the probability that the decision will fulfill all desired outcomes.","TreatmentChooseOne":"Choose one to get additional information in the \'explanation\' view!","Explanation":"Explanation","ExplanationHelp":"Here different types of explanation and additional information for the chosen treatment are displayed.","Relevance":"Relevance","localRelevance":"local relevance","RelevanceHelp":"This view displays the importance of all evidences and interventions for the desired outcomes. Changing variables with a higher relevance will impact the result more, than changing variables with lesser relevance.","AllPredictions":"All predictions","AllPredictionsHelp":"This view displays the predictions of the network for all variables. The network additionally provides information about the likeliness of the prediction.","CompactNetwork":"compact network","CompactNetworkHelp":"This view displays the network in a compact way, showing only the most important variables for the current chosen treatment.","FullNetwork":"full network","FullNetworkHelp":"This view displays the full network with all nodes and edges.","BestOption":"recommended","ShowMore":"show more","Node":"Variable","Tutorial1a":"A bayesian network consists of different variables. Choose here which variables you want to have a specific value. This will be your desired outcomes for this patient.","Tutorial1b":"Eg: set \'survival\' to yes, \'therapy\' to no, ...","Tutorial2":"   Choose which variables are already set to a value. This will typically be your evidence and what you already know about the patient.","Tutorial3a":"Choose which variables you can change. Eg: Therapy, medication, smoking, ...","Tutorial3b":"The network will then calculate the best combination of these interventions to achieve your desired outcomes. Select one to get additional information to the right.","Tutorial4":"Here different types of explanation and additional information for your chosen option are displayed.","prev":"prev","next":"next","finish":"finish","close":"close","theNetworkIs":"The prediction is","orTheValueIs":"or the value is","verySure":"very likely","lessSure":"less likely","notSure":"not likely","given":"given","save":"Save","compare":"Compare","load":"Load","delete":"Delete","ComparingTo":"comparing to ","SaveConfig":"Save new configuration","ErrName":"ERROR: The name already exists.","FeedbackInfo":"If the network classified a case incorrectly, please send it as feedback. ","IncludeConfig":"Include network configuration","send":"send","name":"Name","NetworkName":"Network name","OptDescription":"Description (optional)","UploadNet":"Upload Network","Prediction":"Prediction","Likeliness":"Likeliness","Choose":"Choose","Cancel":"Cancel","noInterventions":"no interventions","positiveInfluence":"positive influence","negativeInfluence":"negative influence","noInfluence":"almost no influence","configurationsHelp":"Save, load and compare configurations.","goalInfluence":"influence on goals:","RequestUpload":"Request upload to server","add":"add","addEvidence":"add evidence","addOutcome":"add outcome","addTarget":"add intervention"}')},6821:function(e){e.exports=JSON.parse('{"uploadNetwork":"Lade ein neues Netzwerk hoch","selectNetwork":"WÃ¤hle ein Netzwerk aus","openNetwork":"Netzwerk Ã¶ffnen","Network":"Netzwerk","LoadPatient":"Patient laden","SavePatient":"Patient speichern","SendFeedback":"Feedback senden","Feedback":"Feedback","NetworkDescription":"Netzwerkbeschreibung","savedConfigurations":"gespeicherte ZustÃ¤nde","backToNetwork":"Netzwerkauswahl","Patient":"Patient","Settings":"Einstellungen","Reset":"ZurÃ¼cksetzen","ChangeLanguage":"Sprache Ã¤ndern","Evidence":"Evidenz","EvidenceHelp":"Gib hier Variablen an, die schon auf einen bestimmten Wert gesetzt sind. Typischerweise gibst du hier Evidenz und alles, was du schon Ã¼ber den Patienten weiÃt, an. Bsp: Symptome, Testergebnisse, persÃ¶nliche Informationen wie Alter und Geschlecht.","DesiredOutcomes":"ErwÃ¼nschte Ergebnisse","DesiredOutcomesHelp":"Gib hier Variablen an, welche einen bestimmten Wert haben sollen. Das werden dann deine erwÃ¼nschten Ergebnisse fÃ¼r diesen Patienten sein. Beispielweise kÃ¶nntest du \'Ãberleben\' auf \'Ja\' setzen, wenn du willst, dass der Patient Ã¼berlebt. Das Netzwerk wird dies in seinen Berechnungen beachten.","Treatment":"Behandlung","TreatmentHelp":"Dieses Fenster soll dir die beste Behandlung fÃ¼r deinen Patienten anzeigen.","Interventions":"Interventionen","InterventionsHelp":"Du kannst verschiedene Variablen, die du beeinflussen kannst, hier angeben. Bsp: Therapie oder Medikamente des Patienten.","Decision":"Entscheidung","OutcomeCertainty":"Sicherheit der erwÃ¼nschten Ergebnisse","DecisionRatings":"Bewertung der Entscheidung","DecisionRatingHelp":"Dann berechnet das Netzwerk alle Kombinationen dieser Variablen, um die beste Behandlung zu finden. Die Behandlung wird nach ihrer \'joined probability\' bewertet, dh der Wahrscheinlichkeit, dass alle erwÃ¼nschten Ergebnisse zusammen erzielt werden.","TreatmentChooseOne":"WÃ¤hle eine Behandlung, um im ErklÃ¤rungs-Fenster zusÃ¤tzliche Informationen zu erhalten!","Explanation":"ErklÃ¤rung","ExplanationHelp":"Hier werden verschiedene ErklÃ¤rungen und zusÃ¤tzliche Informationen zur gewÃ¤hlten Behandlung angezeigt.","Relevance":"Relevanz","localRelevance":"Lokale Relevanz","RelevanceHelp":"Dieses Fenster zeigt die Wichtigkeit aller Evidenzen und Behandlungen fÃ¼r die erwÃ¼nschen Ergebnisse an. Variablen mit hÃ¶herer Relevanz zu Ã¤ndern wird die gewÃ¼nschten Ergebnisse mehr beeinflussen, als Variablen mit niedrigerer Relevanz zu Ã¤ndern.","AllPredictions":"Alle Vorhersagen","AllPredictionsHelp":"Dieses Fenster zeigt die Vorhersagen fÃ¼r alle Variablen des Netzwerks an. ZusÃ¤tzlich wird angezeigt, wie wahrscheinlich die Vorhersage ist.","CompactNetwork":"Kompaktes Netzwerk","CompactNetworkHelp":"Dieses Fenster zeigt das Netzwerk in einer kompakten Art und Weise an, reduziert auf die wichtigsten Variablen fÃ¼r die momentan gewÃ¤hlte Behandlung.","FullNetwork":"Ganzes Netzwerk","FullNetworkHelp":"Dieses Fenster zeigt das gesamte Netzwerk an, mit allen Knoten und Kanten.","BestOption":"empfohlen","ShowMore":"mehr Infos","Node":"Variable","Tutorial1a":"Ein bayes\'sches Netzwerk besteht aus verschiedenen Variablen. WÃ¤hle hier die aus, welche einen bestimmten Wert haben sollen. Das werden dann deine erwÃ¼nschten Ergebnisse fÃ¼r diesen Patienten sein.","Tutorial1b":"Bsp: setze \'Ãberleben\' auf \'ja\', \'Therapie\' auf \'nein\', ...","Tutorial2":"   Gib hier Variablen an, die schon auf einen bestimmten Wert gesetzt sind. Typischerweise gibst du hier Evidenz und alles, was du schon Ã¼ber den Patienten weiÃt, an.","Tutorial3a":"Gib hier verschiedene Variablen, die du beeinflussen kannst, an. Bsp: Therapie oder Medikamente des Patienten.","Tutorial3b":"Dann berechnet das Netzwerk alle Kombinationen dieser Variablen, um die beste Behandlung zu finden. WÃ¤hle eine Behandlung aus, um rechts zusÃ¤tzliche Informationen zu erhalten.","Tutorial4":"Hier werden verschiedene ErklÃ¤rungen und zusÃ¤tzliche Informationen zur gewÃ¤hlten Behandlung angezeigt.","prev":"zurÃ¼ck","next":"weiter","finish":"abschlieÃen","close":"schlieÃen","theNetworkIs":"Die Voraussage ist","orTheValueIs":"oder der Wert ist","verySure":"sehr wahrscheinlich","lessSure":"weniger wahrscheinlich","notSure":"nicht wahrscheinlich","given":"gegeben","save":"speichern","compare":"vergleichen","load":"laden","delete":"lÃ¶schen","ComparingTo":"Vergleich zu ","SaveConfig":"Speichere neuen Zustand","ErrName":"FEHLER: Der Name existiert schon.","FeedbackInfo":"Wenn das Netwerk einen Fall falsch klassifiziert hat, sende ihn bitte als Feedback.","IncludeConfig":"Sende den Netzwerkzustand mit","send":"senden","name":"Name","NetworkName":"Name des Netzwerks","OptDescription":"Beschreibung (optional)","UploadNet":"Netzwerk hochladen","Prediction":"Vorhersage","Likeliness":"Wahrscheinlichkeit","Choose":"AuswÃ¤hlen","Cancel":"Abbrechen","noInterventions":"keine Interventionen","positiveInfluence":"positiver Einfluss","negativeInfluence":"negativer Einfluss","noInfluence":"fast kein Einfluss","configurationsHelp":"Speicher, lade und vergleiche Konfigurationen.","goalInfluence":"Einfluss auf Ergebnisse:","RequestUpload":"Um Upload auf Server bitten","add":"hinzufÃ¼gen","addEvidence":"Evidenz hinzufÃ¼gen","addOutcome":"ErwÃ¼nschte Ergebnisse hinzufÃ¼gen","addTarget":"Interventionen hinzufÃ¼gen"}')}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,i){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],i=e[c][2];for(var l=!0,s=0;s<o.length;s++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(l=!1,i<r&&(r=i));if(l){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,i,r=o[0],l=o[1],s=o[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var c=s(n)}for(t&&t(o);u<r.length;u++)i=r[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self["webpackChunkdoctorbn"]=self["webpackChunkdoctorbn"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(8715)}));o=n.O(o)})();
//# sourceMappingURL=app-legacy.3cbd442f.js.map